!function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,t)}function t(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,o=a(e);if(n){var u=a(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return r(this,t)}}function r(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),e}!function(){"use strict";function n(e,n,t,r,a,o,u){try{var i=e[o](u),s=i.value}catch(c){return void t(c)}i.done?n(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var u=e.apply(t,r);function i(e){n(u,a,o,i,s,"next",e)}function s(e){n(u,a,o,i,s,"throw",e)}i(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return i(e,[{key:"print",value:function(e,n){this.engine.print(e,n)}},{key:"printTextFile",value:function(e,n){var t=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,t.engine.printFile(e,n);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.engine.getInput();case 2:return t=n.sent,n.abrupt("return",(e.print("\n> ".concat(t,"\n")),t));case 4:case"end":return n.stop()}},n)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),n=" |",t="=-",r=0;r<e.length;r++)t+=r%2==0?"=":"-";e.length%2==1?t+="-=":(t+="=-=",n="  |");var a="| "+e+n;this.print("\n"+t+"\n"),this.print(a+"\n"),this.print(t+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e._gameWon=!1,e._gameLost=!1,n.next=4,e.onStart();case 4:e.room=n.sent;case 5:if(e._gameWon||e._gameLost){n.next=15;break}return e.DisplayRoomName(),n.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),n.next=12,e.room.handleInput(e);case 12:e.room=n.sent;case 13:n.next=5;break;case 15:if(!e._gameWon){n.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),n.next=20,e.getInput();case 20:n.next=28;break;case 22:if(n.t0=e._gameLost,!n.t0){n.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),n.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return n.stop()}},n)}))()}}]),e}(),u=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"GitHub Desktop"}},{key:"getDescription",value:function(e){return"You have opened GitHub Desktop. Now all you need to do is [push] your commit if you have already\nsaved your commit in [VSCode]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("push"!==(a=t.sent.toLowerCase().trim())||!r.hasSaved){t.next=8;break}r.print("\nYou push your sign-on and now you're ready for class!\n"),r.gameWon(),t.next=15;break;case 8:if("push"===a&&!r.hasSaved){t.next=14;break}if("vscode"!==a){t.next=11;break}return t.abrupt("return",(r.print("\nYou close GitHub Desktop and open VSCode again.\n"),new s));case 11:r.print("\nInvalid Command!\n"),t.next=15;break;case 14:r.print("\nYou haven't saved and committed your sign-on yet!\n");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}},t)}))()}}]),e}(),s=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"VSCode"}},{key:"getDescription",value:function(e){return"You're on VSCode now. Make a [sign-on] for the beginning of class and\nthen [save] it once you're done and open [GitHub Desktop]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("sign-on"!==(a=t.sent.toLowerCase().trim())){t.next=8;break}r.print("\nYou sign on to VSCode for the day with the date and what\nyou'll be working on, so now it's time to [save] and commit the sign on.\n"),r.hasMadeSignOn=!0,t.next=19;break;case 8:if("save"!==a||!r.hasMadeSignOn){t.next=12;break}r.print("\nYou save and commit your sign-on for the day. Now you should open\n[GitHub Desktop] to push the commit."),r.hasSaved=!0,t.next=19;break;case 12:if("save"===a&&!r.hasMadeSignOn){t.next=18;break}if("github desktop"!==a){t.next=15;break}return t.abrupt("return",(r.print("\nYou open GitHub Desktop.\n"),new u));case 15:r.print("\nInvalid Command!\n"),t.next=19;break;case 18:r.print("\nInvalid Command!\n");case 19:return t.abrupt("return",n);case 20:case"end":return t.stop()}},t)}))()}}]),e}(),c=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Github"}},{key:"getDescription",value:function(e){return"You've opened the GitHub website. Now you need to [install] VSCode and GitHub Desktop\nto get started with Computer Science class."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("install"===(a=t.sent.toLowerCase().trim())&&!r.hasVSCode){t.next=18;break}if("install"!==a||!r.hasVSCode){t.next=9;break}r.print("\nYou already have VSCode and GitHub Ddesktop installed.\n"),t.next=16;break;case 9:if("vscode"===a&&!r.hasVSCode){t.next=15;break}if("vscode"!==a||!r.hasVSCode){t.next=12;break}return t.abrupt("return",(r.print("\nYou open VSCode...\n"),new s));case 12:r.print("\nInvalid Command!\n"),t.next=16;break;case 15:r.print("\nInvalid Command!\n");case 16:t.next=19;break;case 18:r.print("\nYou download both GitHub and VSCode.\n"),r.hasVSCode=!0,r.print("You should open up [VSCode] and make a sign on now.");case 19:return t.abrupt("return",n);case 20:case"end":return t.stop()}},t)}))()}}]),e}(),p=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"IT"}},{key:"getDescription",value:function(e){return"This is the IT Department's room, you can either ask for a [loaner] laptop, or a [charger]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=e).hasLoggedIn||r.print("\nIf you don't need anything then go back to [class].\n"),t.next=4,r.getInput();case 4:if("loaner"===(a=t.sent.toLowerCase().trim())&&!r.hasLaptop){t.next=21;break}if("loaner"!==a||!r.hasLaptop){t.next=10;break}r.print("\nYou already have a laptop, why do you need to borrow another?\n"),t.next=19;break;case 10:if("charger"!==a||!r.isLaptopdead){t.next=12;break}return t.abrupt("return",(r.print("\nYour laptop was magically charged completely within seconds!\n"),r.isLaptopdead=!1,new c));case 12:if("charger"===a&&!r.isLaptopdead){t.next=18;break}if("class"!==a){t.next=15;break}return t.abrupt("return",(r.print("\nYou head back to class.\n"),new g));case 15:r.print("\nInvalid Command!\n"),t.next=19;break;case 18:r.print("\nYour laptop is already charged.\n");case 19:t.next=22;break;case 21:r.hasLoaner?"loaner"===a&&r.hasLoaner&&r.print("\nWhy do you need a second loaner?!\n"):(r.print("\nYou asked for a loaner since you forgot your laptop. You now have a computer!\n"),r.hasLoaner=!0);case 22:return t.abrupt("return",n);case 23:case"end":return t.stop()}},t)}))()}}]),e}(),h=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Classroom Again"}},{key:"getDescription",value:function(e){return"You're in computer science class again and now your laptop has died. If you need help with \ntechnology, you should head to the [IT] room."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(t.t0=t.sent.toLowerCase().trim(),"it"!==t.t0){t.next=8;break}t.t1=(r.print("\nYou go to the IT Department\n"),new p),t.next=9;break;case 8:t.t1=(r.print("\nInvalid Command!\n"),n);case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t)}))()}}]),e}(),l=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Chrome"}},{key:"getDescription",value:function(e){return"You're on Google Chrome now. To do any work you'll need to [log-in] with your password. Or you \ncan close Chrome and go back to the [desktop]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("desktop"!==(a=t.sent.toLowerCase().trim())){t.next=6;break}return t.abrupt("return",(r.print("\nYou closed Chrome and go back to the desktop.\n"),new d));case 6:if("log-in"===a&&!r.hasKey){t.next=20;break}if("log-in"!==a||!r.hasKey){t.next=11;break}r.print("\nYou log-in to Google with the key."),r.hasLoggedIn=!0,r.print("\nNow you can open [github].\n"),t.next=18;break;case 11:if("github"===a&&!r.hasLoggedIn){t.next=17;break}if("github"!==a||!r.hasLoggedIn){t.next=14;break}return t.abrupt("return",(r.print("\nYou finally open up GitHub. But wait! Your computer just went out!!!\n"),r.isLaptopdead=!0,new h));case 14:r.print("\nInvalid Command!\n"),t.next=18;break;case 17:r.print("\nInvalid Command!\n");case 18:t.next=21;break;case 20:r.print("\nYou've forgotten the password for Google. Maybe the key is around here\nsomewhere on your laptop.");case 21:return t.abrupt("return",n);case 22:case"end":return t.stop()}},t)}))()}}]),e}(),f=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Trash"}},{key:"getDescription",value:function(e){return"This is your trash. If you don't need anything you should [close] the trash."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e).isChromeOpen||!r.hasLaptop){t.next=5;break}r.print("\nThe [key] to log-in to Google Chrome is here!"),t.next=15;break;case 5:if(!r.isChromeOpen){t.next=14;break}if(!r.hasKey){t.next=10;break}r.print("\nIt seems like there's nothing important in here."),t.next=12;break;case 10:if(!r.hasLoaner||!r.isChromeOpen){t.next=12;break}return t.abrupt("return",(r.print("\nThere's nothing in here... Your original laptop has the key!!\n"),r.gameOver(),n));case 12:t.next=15;break;case 14:r.print("\nIt seems like there's nothing important in here.");case 15:return t.next=17,r.getInput();case 17:return a=t.sent.toLowerCase().trim(),t.abrupt("return","close"===a?(r.print("\nYou closed the trash and went back to your desktop.\n"),new d):("key"!==a||r.hasKey?r.print("key"===a&&r.hasKey?"\nYou already have the key.\n":"\nInvalid Command!\n"):(r.print("\nYou got the key to Chrome!\n"),r.hasKey=!0),n));case 19:case"end":return t.stop()}},t)}))()}}]),e}(),d=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Desktop"}},{key:"getDescription",value:function(e){return"You are now on your desktop. To get started with class you should open [chrome],\nor if you are missing something important, try looking in the [trash]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","chrome"===a?(r.print("\nYou open up Google Chrome.\n"),r.isChromeOpen=!0,new l):"trash"===a?(r.print("\nYou open up the trash. Have fun!\n"),new f):(r.print("\nInvalid Command!\n"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),g=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Classroom"}},{key:"getDescription",value:function(e){return"You're in computer science class and it's time to [open] up your laptop. If you need help with \ntechnology, you should head to the [IT] room."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("open"===(a=t.sent.toLowerCase().trim())&&!r.hasLaptop){t.next=12;break}if("open"!==a||!r.hasLaptop){t.next=7;break}return t.abrupt("return",(r.print("\nYou open up the laptop you have and log in to it.\n"),new d));case 7:if("it"!==a){t.next=9;break}return t.abrupt("return",(r.print("\nYou go to the IT Department\n"),new p));case 9:r.print("\nInvalid Command!\n"),t.next=14;break;case 12:if(r.hasLoaner||r.print("\nYou forgot to bring your laptop to school...\n"),!r.hasLoaner){t.next=14;break}return t.abrupt("return",(r.print("\nYou open up the laptop you have and log in to it.\n"),new d));case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}},t)}))()}}]),e}(),m=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Main Lawn"}},{key:"getDescription",value:function(e){return"You're at school but class doesn't start for a few minutes. You should talk to your [friends]\nwhile you wait!"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("friends"===(a=t.sent.toLowerCase().trim())&&!r.hasBrushedTeeth){t.next=10;break}if("friends"!==a||!r.hasBrushedTeeth){t.next=7;break}return t.abrupt("return",(r.print("\nYou talk to your friends until 7:50 and then head to class.\n"),new g));case 7:r.print("\nInvalid Command!\n"),t.next=11;break;case 10:r.print("\nYou talk to your friends but they die because of your terrible smelling breath...\n"),r.gameOver();case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))()}}]),e}(),y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Home"}},{key:"getDescription",value:function(e){return"You are currently at home and you need to get ready for school.\nYou should [brush] your teeth, grab your [laptop], and then [leave].\nOr you can just go back to [sleep] and skip school..."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("sleep"!==(a=t.sent.toLowerCase().trim())){t.next=8;break}r.print("\nYou went back to sleep and missed school...\n"),r.gameOver(),t.next=11;break;case 8:if("leave"!==a){t.next=10;break}return t.abrupt("return",(r.print("\nYou left and went to school.\n"),new m));case 10:"laptop"!==a||r.hasLaptop?"laptop"===a&&r.hasLaptop?r.print("\nYou already have your computer.\n"):"brush"!==a||r.hasBrushedTeeth?r.print("brush"===a&&r.hasBrushedTeeth?"\nYou brushed your teeth, again!\n":"\nInvalid Command!\n"):(r.print("\nYou brushed your teeth!\n"),r.hasBrushedTeeth=!0):(r.print("\nYou put your computer in your backpack.\n"),r.hasLaptop=!0);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))()}}]),e}(),v=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasLoaner=!1,e.hasBrushedTeeth=!1,e.isLaptopdead=!1,e.hasLaptop=!1,e.isChromeOpen=!1,e.hasKey=!1,e.hasLoggedIn=!1,e.hasVSCode=!1,e.hasMadeSignOn=!1,e.hasSaved=!1,e}return i(u,[{key:"getName",value:function(){return"Computer Science"}},{key:"getAuthor",value:function(){return"Chad Sawyer"}},{key:"getDescription",value:function(){return"It's time for Computer Science class."}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.hasLoaner=!1,e.hasBrushedTeeth=!1,e.isLaptopdead=!1,e.hasLaptop=!1,e.isChromeOpen=!1,e.hasKey=!1,e.hasLoggedIn=!1,e.hasVSCode=!1,e.hasMadeSignOn=!1,e.hasSaved=!1,n.next=12,e.printTextFile("compsciadventure/title.txt");case 12:return e.print("\n                                  A text adventure by Chad Sawyer\n"),e.sleep(.5),e.print("\nAfter a good night's sleep, you wake up on a Friday morning..\n\n"),e.sleep(.5),e.print("School starts at 7:55 and your first period is C Period.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),n.next=21,e.getInput();case 21:return n.abrupt("return",new y);case 22:case"end":return n.stop()}},n)}))()}}]),u}(a),k=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(!("boulder"===(a=t.sent.toLowerCase().trim())&&r.strength<10)){t.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),t.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){t.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),t.next=15;break;case 12:if("back"!==a){t.next=14;break}return t.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new Y));case 14:r.print("Invalid command!\n");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}},t)}))()}}]),e}(),b=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(!("weights"===(a=t.sent.toLowerCase().trim())&&r.strength<10)){t.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),t.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){t.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),t.next=15;break;case 12:if("elevator"!==a){t.next=14;break}return t.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new I));case 14:r.print("Invalid command!\n");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}},t)}))()}}]),e}(),w=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new x):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("snoring"!==(a=t.sent.toLowerCase().trim())){t.next=6;break}return t.abrupt("return",(r.print("You slowly approach the snoring...\n"),new w));case 6:if("chest"!==a||!r.hasKey){t.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),t.next=17;break;case 10:if("chest"===a&&!r.hasKey){t.next=16;break}if("tunnel"!==a){t.next=13;break}return t.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new I));case 13:r.print("Invalid command!\n"),t.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}},t)}))()}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new b):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new x):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new Y):(e.print("Invalid command!\n"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new I):"left"===a?(r.print("You take the path to the left.\n"),new k):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new C):(r.print("Invalid Command!\n"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),C=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new Y):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),T=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,n.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),n.abrupt("return",new C);case 8:case"end":return n.stop()}},n)}))()}}]),u}(a),R=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("back"!==(a=t.sent.toLowerCase().trim())){t.next=6;break}return t.abrupt("return",(r.print("\nSeeing no way forward, you return to the subway platform.\n"),new S));case 6:if("goat"!==a){t.next=11;break}if(r.print("\nThere is an angry looking goat blocking the escalator.\n"),r.print("\nThe goat looks very [hungry]. BAAAA!\n"),r.isGoatOnFire&&r.print("\nThe goat is on [fire].\n"),r.isGoatOnFire){t.next=9;break}return t.abrupt("return",n);case 9:t.next=12;break;case 11:"fire"===a&&r.isGoatOnFire?r.hasSpryte&&(r.print("\nYou take the Spryte from your pocket and pour it over the goat. The flames go out.\n"),r.isGoatOnFire=!1,r.hasSpryte||r.print("\nYep! That's a fire!\n")):"fire"!==a||r.isGoatOnFire?"hungry"===a&&r.isGoatOnFire?r.print("\nThe goat is on fire. Perhaps you should find a way to put it out.\n"):"hungry"!==a||r.isGoatOnFire?r.print("\nInvalid command!\n"):(r.print("\nThe goat looks quite hungry. You hand it the empty Spryte can. The goat crunches through it in a\nmatter of seconds. it 'BAAAAS' happily before hopping away. You continue up the broken escalator\nand return home. Did that really happen?\n"),r.gameWon()):r.print("\nNo fire here!\n");case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}},t)}))()}}]),e}(),S=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("escalator"!==(a=t.sent.toLowerCase().trim())){t.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),t.next=11;break;case 8:if("walk"!==a){t.next=10;break}return t.abrupt("return",(r.print("\nYou start to walk up the escalator.\n"),new R));case 10:"machine"===a?r.print("\nOh wow! It's one of those cool new Spryte machines. It has a [coin] slot.\n"):"coin"===a&&!1===r.hasSpryte?(r.print("\nYou drop 4 coins into the vending machine. You hear a loud whirring sound followed by a loud\n*KA-CHUNK*. You reach down and pickup a Spryte.\n"),r.hasSpryte=!0):r.print("coin"===a&&!0===r.hasSpryte?"\nYou already have a Spryte.\n":"\nInvalid command.\n");case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))()}}]),e}(),L=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return i(u,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,n.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),n.next=15,e.getInput();case 15:return n.abrupt("return",new S);case 16:case"end":return n.stop()}},n)}))()}}]),u}(a),D=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return i(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new T),e.push(new L),e}},{key:"getAdventure",value:function(){return new v}}]),e}()),O=function e(n){o(this,e),this.TYPE="PrintMessage",this.message=n},A=function e(){o(this,e),this.TYPE="PickAdventureMessage"},N=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return i(e,[{key:"threadSleep",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.printQueue.length){t.next=2;break}return t.abrupt("return",new Promise(function(n){return setTimeout(n,1e3*e)}));case 2:return r=n.printQueue[n.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,t.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return t.stop()}},t)}))()}},{key:"sleep",value:function(e){var n=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:n})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=e.inputQueue.length){n.next=5;break}return n.next=3,e.threadSleep(.1);case 3:n.next=0;break;case 5:return t=e.inputQueue.shift(),n.abrupt("return",Promise.resolve(t));case 7:case"end":return n.stop()}},n)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,t=1e3*n,r=this.getStartTime(),a=0;a<e.length;a++)r+=t,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,n){var t=this,r=1e3*n,a=this.getStartTime();e.forEach(function(e){a+=r,t.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,t=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(t.fileCache.has(e)){var a=t.fileCache.get(e);return t.printLines(a,n),void r()}var o=new XMLHttpRequest,u="assets/"+e;o.addEventListener("load",function(a){var i=[];o.status>=200&&o.status<300?i=o.responseText.split("\n"):(i=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(u))),t.fileCache.set(e,i),t.printLines(i,n),r()}),o.open("GET",u),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=e.printQueue.length){n.next=5;break}return n.next=3,e.threadSleep(.1);case 3:n.next=0;break;case 5:for(t=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=t;)r=e.printQueue.shift(),postMessage(new O(r.message));case 7:n.next=0;break;case 9:case"end":return n.stop()}},n)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var n=e.data;if("RunAdventureMessage"===n.TYPE){var t=D.SINGLE_ADVENTURE_MODE?D.getAdventure():D.getAdventures()[n.index];t.setEngine(N),console.log("Starting PrintThread."),N.startPrintThread(),console.log("Starting adventure."),t.run(),D.SINGLE_ADVENTURE_MODE||(t.onFinish=function(){return postMessage(new A)})}else"InputMessage"==n.TYPE?N.pushInput(n):(console.error("An illegal message was received by the engine: "),console.error(n))})}()}();