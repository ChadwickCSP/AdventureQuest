!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var u=a(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}!function(){"use strict";function t(e,t,n,r,a,o,u){try{var i=e[o](u),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(a,o){var u=e.apply(n,r);function i(e){t(u,a,o,i,s,"next",e)}function s(e){t(u,a,o,i,s,"throw",e)}i(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return i(e,[{key:"print",value:function(e,t){this.engine.print(e,t)}},{key:"printTextFile",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,n.engine.printFile(e,t);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.engine.getInput();case 2:return n=t.sent,t.abrupt("return",(e.print("\n> ".concat(n,"\n")),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),t=" |",n="=-",r=0;r<e.length;r++)n+=r%2==0?"=":"-";e.length%2==1?n+="-=":(n+="=-=",t="  |");var a="| "+e+t;this.print("\n"+n+"\n"),this.print(a+"\n"),this.print(n+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._gameWon=!1,e._gameLost=!1,t.next=4,e.onStart();case 4:e.room=t.sent;case 5:if(e._gameWon||e._gameLost){t.next=15;break}return e.DisplayRoomName(),t.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),t.next=12,e.room.handleInput(e);case 12:e.room=t.sent;case 13:t.next=5;break;case 15:if(!e._gameWon){t.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=20,e.getInput();case 20:t.next=28;break;case 22:if(t.t0=e._gameLost,!t.t0){t.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return t.stop()}},t)}))()}}]),e}(),u=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("boulder"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),n.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){n.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new l));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),s=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("weights"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),n.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){n.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),n.next=15;break;case 12:if("elevator"!==a){n.next=14;break}return n.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new p));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),c=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new h):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),h=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("snoring"!==(a=n.sent.toLowerCase().trim())){n.next=6;break}return n.abrupt("return",(r.print("You slowly approach the snoring...\n"),new c));case 6:if("chest"!==a||!r.hasKey){n.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),n.next=17;break;case 10:if("chest"===a&&!r.hasKey){n.next=16;break}if("tunnel"!==a){n.next=13;break}return n.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new p));case 13:r.print("Invalid command!\n"),n.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),p=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new s):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new h):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new l):(e.print("Invalid command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),l=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new p):"left"===a?(r.print("You take the path to the left.\n"),new u):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new f):(r.print("Invalid Command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),f=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new l):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),d=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,t.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),t.abrupt("return",new f);case 8:case"end":return t.stop()}},t)}))()}}]),u}(a),g=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("\nSeeing no way forward, you return to the subway platform\n"),new y):("goat"===a?(r.print("\nThere is an angry looking goat blocking the escalator\n."),r.print("\nThe goat looks very [hungry]. BAAAAA"),r.isGoatOnFire&&r.print("\nThe Goat is on [fire].\n")):"fire"===a&&r.isGoatOnFire?r.hasSpryte?(r.print("\nYou take spryte from your pocket and pour it over the goat. The flames go out\n."),r.isGoatOnFire=!1):r.print("\nYep that's a fire\n."):"fire"!==a||r.isGoatOnFire?"hungry"===a&&r.isGoatOnFire?r.print("\nThe goat is on fire perhaps there is a way to put it out\n."):"hungry"!==a||r.isGoatOnFire?r.print("\nInvalid command\n."):(r.print("\nThe goat looks quite hungry.\nYou hand it the empty Spryte can.\nThe goat crunches through it in a matter of seconds.\n It 'BAAAAS' happily before hopping away.\nYou continue up the broken escalator and return home.\n Did that really happen"),r.gameWon()):r.print("\nNo fire here!\n."),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("escalator"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),n.next=11;break;case 8:if("walk"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nYou start to walk up the escalator.\n"),new g));case 10:"machine"===a?r.print("\nOh wow! It's one of those cool new spryte machines. It has a [coin] slot.\n"):"coin"===a&&!1===r.hasSpryte?(r.print("\nYou drop 4 coins into the vending machine. You hear a large whirring sound followed by a loud \n'KA-CHUUNK'. You reach down and pick up a spryte.\n"),r.hasSpryte=!0):r.print("coin"===a&&r.hasSpryte?"\nYou already have a coin.\n":"\nInvalid command!\n");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),m=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return i(u,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,t.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=15,e.getInput();case 15:return t.abrupt("return",new y);case 16:case"end":return t.stop()}},t)}))()}}]),u}(a),v=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Bathroom "}},{key:"getDescription",value:function(e){return"You get into the bathroom and as you expected the faucet actually runs with [water].\nYou can either use it or just [leave].\n"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("water"!==(a=n.sent.toLowerCase().trim())||r.hasCup){n.next=6;break}return n.abrupt("return",(r.print("\nYou realize your hands are dirty and decide to wash your hands.\nYou do this and leave the bathroom.\n"),new w));case 6:if("water"!==a||!r.hasCup||r.hasVisitedCasino){n.next=10;break}r.print("\nYou fill up your cup with water and drink it.\nIt has been a long journey at sea after all.\n"),n.next=17;break;case 10:if("water"!==a||!r.hasCup||!r.hasVisitedCasino){n.next=14;break}r.print("\nYou fill up your cup with water at the faucet.\nNow you can probably help settle things down at the casino.\nMaybe the casino owner will give you berries for it.\n"),r.hasCupFilled=!0,n.next=17;break;case 14:if("leave"!==a){n.next=16;break}return n.abrupt("return",(r.print("\nYou leave the bathroom.\n"),new w));case 16:r.print("\nInvalid Command goofy.\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),w=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Bar"}},{key:"getDescription",value:function(e){return"\nYou go to the bar and you ask the bartender if he has food and/or water.\nHe says he can give you a [burger] but for some reason the plumbing at the bar has not been\nworking.\nHe does say that he has a [cup] and that you could go to the [bathroom]. You could also just\n[back].\n"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("burger"!==(a=n.sent.toLowerCase().trim())||!r.hasVisitedCasino){n.next=8;break}r.print("\nHe gives you a burger. You think about [eating] it considering you've been off at sea for awhile without proper food.\nI mean yea you originally came over here to help feed the man at the casino but you did use your own money.\nYou could still just go [back] though.\n"),r.hasBurger=!0,n.next=29;break;case 8:if("eating"!==a||!r.hasBurger){n.next=12;break}r.print("\nYou eat the burger and it was actually pretty good.\nNow you got the energy to fight the man at the casino.\nAre you strong enough though?\n"),r.hasBurger=!1,n.next=29;break;case 12:if("burger"===a&&!r.hasVisitedCasino){n.next=28;break}if("cup"===a&&!r.hasVisitedCasino){n.next=25;break}if("cup"!==a||!r.hasVisitedCasino){n.next=18;break}r.print("\nI mean this cup is cool and all but you still need water.\nThe bartender tells you that you can go get water from the bathroom faucet.\nIt's not the best but it's better than nothing.\n"),r.hasCup=!0,n.next=23;break;case 18:if("bathroom"!==a){n.next=20;break}return n.abrupt("return",(r.print("\nYou decide to go to the bathroom.\n"),new v));case 20:if("back"!==a){n.next=22;break}return n.abrupt("return",(r.print("\nYou decide to go back to town.\n"),new Y));case 22:r.print("\nInvalid command weirdo.\n");case 23:n.next=26;break;case 25:r.print("\nThe bartender hands you a cup.\nNow you can go to the bathroom and get water if you want.\n"),r.hasCup=!0;case 26:n.next=29;break;case 28:r.print("\nYou've been out at sea for awhile without proper food.\nMight as well eat it.\n");case 29:return n.abrupt("return",t);case 30:case"end":return n.stop()}},n)}))()}}]),e}(),k=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Rain Dinners"}},{key:"getDescription",value:function(e){return"You get to the casino with the purpose of possibly getting some money.\nYou see that there is some [hungry] aggravated man who's causing problems for everyone else at\nthe casino.\nHe keeps yelling he's [thirsty] and he needs some water.\nHe keeps flipping tables and keeps fighting everyone who bothers him.\nOn top of that he seems to be pretty strong.\nThe owner of Rain Dinners tells you that he'll pay you 10 million berries to fix this.\nWanna [fight] him? You could also just [leave]"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(r=e).hasVisitedCasino=!0,n.next=4,r.getInput();case 4:if("hungry"!==(a=n.sent.toLowerCase().trim())||r.hasBurger){n.next=7;break}return n.abrupt("return",(r.print("\nYou go up to the man to address his hunger and he gets mad at you because you don't have food\nso you run away\n"),new Y));case 7:if("thirsty"!==a||r.hasCupFilled){n.next=9;break}return n.abrupt("return",(r.print("\nYou go up to the man to address his thirst and he gets mad at you because you don't have water\nso you run away\n"),new Y));case 9:if("fight"===a&&!r.hasDevilFruit){n.next=15;break}if("leave"!==a){n.next=12;break}return n.abrupt("return",(r.print("\nYou leave the casino.\n"),new Y));case 12:("hungry"===a||"thirsty"===a)&&r.hasBurger&&r.hasCupFilled?(r.print("Well you solved the problem in the most pacifist way possible.\nMaybe fighting isn't supposed to solve all problems..."),r.gameWon()):"hungry"===a&&r.hasBurger?r.print("\nYou talk to him he says he really was just hungry and sometimes it gets out of hand.\nHe Calmed down and says he's still thirsty.\n He might go back to the state he was in if he doesn't get water.\n who knows.\n"):"thirsty"===a&&r.hasCupFilled?r.print("\nYou talk to him he says he really was just thirsty and sometimes it gets out of hand.\nHe Calmed down and says he's still hungry.\n He might go back to the state he was in if he doesn't food.\n who knows.\n"):"fight"===a&&r.hasDevilFruit?(r.print("\nYou finally eat the flare-flare fruit. You gain devil fruit powers that allow your body to become\nfire if anyone tries to hit you but you can also solidify if you please.\nYou start fighting the man and you realize it would've been impossible to win without this power.\nHe puts up a pretty good fight even with your flare-flare powers because you don't know how to manage it yet.\nThe fight ends in your victory.\nThe manager of the casino ends up giving you money for saving his business.\nYour job is finished"),r.gameWon()):r.print("\nInvalid Command smh\n"),n.next=16;break;case 15:r.print("\nYou go up to fight him because he seems like he can't be reasoned with.\nHe weaves your first punch and then just knocks you out first try!\nIf only you had a devil fruit or something...\n"),r.gameOver();case 16:return n.abrupt("return",t);case 17:case"end":return n.stop()}},n)}))()}}]),e}(),b=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"shady fruit shop"}},{key:"getDescription",value:function(e){return"You approach an eerie and mysterious man running a shack that seems to not be getting a lot of\nbusiness.\nUsually you wouldn't pay it much mind but all types of weird stuff happens in the new world.\nYou talk to him and he says you can [buy] a devil fruit.\nThis excites you but then he proceeds to tell you that if you eat it you will never be able to\nswim again.\nThat sounds terrible to you since you're a pirate who spends most of your time at sea.\nAt the same time though, you will become invulnerable as your body can become fire on command.\nYou consider just going back into [town].\n"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("buy"===(a=n.sent.toLowerCase().trim())&&!r.hasVisitedCasino){n.next=12;break}if("buy"!==a||!r.hasVisitedCasino){n.next=7;break}return n.abrupt("return",(r.print("\nYou talk to him and he says he's selling a devil fruit which contains the flare-flare powers!\nWith this you will almost certainly be able to win that fight now.\n"),r.hasDevilFruit=!0,new Y));case 7:if("town"!==a){n.next=9;break}return n.abrupt("return",(r.print("\nYou choose to go back into town.\n"),new Y));case 9:r.print("\nInvalid command man learn how to type.\n"),n.next=13;break;case 12:r.sleep(.5),r.sleep(.5),r.sleep(.5),r.print("\nYou talk to him and he says he's selling a devil fruit!\nYou buy it and save it for later.\n"),r.hasDevilFruit=!0;case 13:return n.abrupt("return",t);case 14:case"end":return n.stop()}},n)}))()}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Food Court"}},{key:"getDescription",value:function(e){return"You get into the food court and you see a lot of stores but nothing necessarily catches your\ninterest.\nMight even just go back into [town].\nBefore you decide to go back you notice a fruit [shop] in the back corner of the food court.\nWonder what's back there."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("town"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nYou decide that you don't really want any of the food here and you don't feel like making a stop anywhere.\nSo You go back into town.\n"),n.next=11;break;case 8:if("shop"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nSeems interesting enough.\n"),new b));case 10:r.print("\nInvalid command unfortunately.\n");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Dressrosa"}},{key:"getDescription",value:function(e){return"You go into town just looking for entertainment and food however that may come.\nYou can go get food at the [food court].\nMaybe something interesting is gonna happen there,\nor maybe at the [bar],\nor maybe the [casino].\nWho really knows."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","food court"===a?(r.print("\nLet's go find some good eats.\n"),new x):"bar"===a?(r.print("\nLooking for adventure you decide to head out to the deck.\n"),new w):"casino"===a?(r.print("\nLet's go get some money then"),new k):"back"===a?(r.print("\nYou change your mind and decide to maintain peace for the day"),new I):(r.print("\nInvalid Command sadly.\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Port"}},{key:"getDescription",value:function(e){return"There's nothing but oil rigs and other ships here. Might as well either go into [town]\nor get back on the [ramp] "}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","ramp"===a?(r.print("\nYou changed your mind and you decide to go back to the ship. Maybe go for a swim again.\n"),new C):"town"===a?(r.print("\nHungry and maybe looking for some way to get stronger, you decide to go into town.\n"),new Y):(r.print("\nInvalid Command."),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),C=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ramp To Island"}},{key:"getDescription",value:function(e){return"Now that you made it this far can go for a [swim] or to just go into the [port]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("deck"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nYou decide to go back to the deck and live in peace for the day.\n"),n.next=15;break;case 8:if("swim"!==a){n.next=12;break}r.print("\nYou decide to go for a swim.\n"),r.print("\nMight be one of the last times.\n"),n.next=15;break;case 12:if("port"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou decide to the port.\n"),new I));case 14:r.print("\nInvalid Command Bozo.\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),R=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Main Deck"}},{key:"getDescription",value:function(e){return"You are now on the main deck you can either head [back] to your quarters or you can take the\n[ramp] and start heading into town."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","ramp"===a?(r.print("\nLooking for adventure or maybe even chaos you start to head to the port towards the town.\n"),r.print("\nWonder if there's a devil fruit in town.\n"),new C):"back"===a?(r.print("\nYou decide to go back.\n"),new T):(r.print("\nInvalid command do better.\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),T=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Captains Quarters"}},{key:"getDescription",value:function(e){return"You are sleeping in your quarters. You can either go back to [sleep] or head out to the [deck]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("sleep"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nI guess your tired from just trying to get here. So you go back to sleep.\n"),r.gameOver(),n.next=11;break;case 8:if("deck"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nLooking for adventure you decide to head out to the deck.\n"),new R));case 10:r.print("\nInvalid Command.\n");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),D=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasCup=!1,e.hasCupFilled=!1,e.hasDevilFruit=!1,e.hasBurger=!1,e.hasPapertowels=!1,e.hasVisitedCasino=!1,e}return i(u,[{key:"getName",value:function(){return"Two Piece"}},{key:"getAuthor",value:function(){return"Audemar"}},{key:"getDescription",value:function(){return"Go cause a commotion in dressrosa!"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasBurger=!1,e.hasCup=!1,e.hasCupFilled=!1,e.hasDevilFruit=!1,e.hasPapertowels=!1,t.next=7,e.printTextFile("TwoPiece/title2.txt");case 7:return e.print("\n                           A text adventure by Audemar\n"),e.sleep(.5),e.print("\nAfter a long voyage at sea and night of rest you wake up at a an island in the new world.\n\n"),e.sleep(.5),e.print("You wake up hungry and aggravated for whatever reason.\n\n"),e.sleep(.5),e.print("Who knows what's ahead of you on this island...\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=18,e.getInput();case 18:return t.abrupt("return",new T);case 19:case"end":return t.stop()}},t)}))()}}]),u}(a),A=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return i(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new d),e.push(new m),e}},{key:"getAdventure",value:function(){return new D}}]),e}()),L=function e(t){o(this,e),this.TYPE="PrintMessage",this.message=t},N=function e(){o(this,e),this.TYPE="PickAdventureMessage"},O=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return i(e,[{key:"threadSleep",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=t.printQueue.length){n.next=2;break}return n.abrupt("return",new Promise(function(t){return setTimeout(t,1e3*e)}));case 2:return r=t.printQueue[t.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,n.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return n.stop()}},n)}))()}},{key:"sleep",value:function(e){var t=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:t})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.inputQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:return n=e.inputQueue.shift(),t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}},t)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=1e3*t,r=this.getStartTime(),a=0;a<e.length;a++)r+=n,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,t){var n=this,r=1e3*t,a=this.getStartTime();e.forEach(function(e){a+=r,n.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(n.fileCache.has(e)){var a=n.fileCache.get(e);return n.printLines(a,t),void r()}var o=new XMLHttpRequest,u="assets/"+e;o.addEventListener("load",function(a){var i=[];o.status>=200&&o.status<300?i=o.responseText.split("\n"):(i=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(u))),n.fileCache.set(e,i),n.printLines(i,t),r()}),o.open("GET",u),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.printQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:for(n=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=n;)r=e.printQueue.shift(),postMessage(new L(r.message));case 7:t.next=0;break;case 9:case"end":return t.stop()}},t)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var t=e.data;if("RunAdventureMessage"===t.TYPE){var n=A.SINGLE_ADVENTURE_MODE?A.getAdventure():A.getAdventures()[t.index];n.setEngine(O),console.log("Starting PrintThread."),O.startPrintThread(),console.log("Starting adventure."),n.run(),A.SINGLE_ADVENTURE_MODE||(n.onFinish=function(){return postMessage(new N)})}else"InputMessage"==t.TYPE?O.pushInput(t):(console.error("An illegal message was received by the engine: "),console.error(t))})}()}();