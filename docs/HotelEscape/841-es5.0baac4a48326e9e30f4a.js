!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var u=a(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}!function(){"use strict";function t(e,t,n,r,a,o,u){try{var i=e[o](u),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(a,o){var u=e.apply(n,r);function i(e){t(u,a,o,i,s,"next",e)}function s(e){t(u,a,o,i,s,"throw",e)}i(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return i(e,[{key:"print",value:function(e,t){this.engine.print(e,t)}},{key:"printTextFile",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,n.engine.printFile(e,t);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.engine.getInput();case 2:return n=t.sent,t.abrupt("return",(e.print("\n> ".concat(n,"\n")),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),t=" |",n="=-",r=0;r<e.length;r++)n+=r%2==0?"=":"-";e.length%2==1?n+="-=":(n+="=-=",t="  |");var a="| "+e+t;this.print("\n"+n+"\n"),this.print(a+"\n"),this.print(n+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._gameWon=!1,e._gameLost=!1,t.next=4,e.onStart();case 4:e.room=t.sent;case 5:if(e._gameWon||e._gameLost){t.next=15;break}return e.DisplayRoomName(),t.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),t.next=12,e.room.handleInput(e);case 12:e.room=t.sent;case 13:t.next=5;break;case 15:if(!e._gameWon){t.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=20,e.getInput();case 20:t.next=28;break;case 22:if(t.t0=e._gameLost,!t.t0){t.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return t.stop()}},t)}))()}}]),e}(),u=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("boulder"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),n.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){n.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new l));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),s=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("weights"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),n.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){n.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),n.next=15;break;case 12:if("elevator"!==a){n.next=14;break}return n.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new p));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),c=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new h):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),h=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("snoring"!==(a=n.sent.toLowerCase().trim())){n.next=6;break}return n.abrupt("return",(r.print("You slowly approach the snoring...\n"),new c));case 6:if("chest"!==a||!r.hasKey){n.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),n.next=17;break;case 10:if("chest"===a&&!r.hasKey){n.next=16;break}if("tunnel"!==a){n.next=13;break}return n.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new p));case 13:r.print("Invalid command!\n"),n.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),p=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new s):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new h):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new l):(e.print("Invalid command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),l=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new p):"left"===a?(r.print("You take the path to the left.\n"),new u):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new f):(r.print("Invalid Command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),f=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new l):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),d=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,t.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),t.abrupt("return",new f);case 8:case"end":return t.stop()}},t)}))()}}]),u}(a),m=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("\nSeeing no way forward, you return to the subway platform.\n"),new g):("goat"===a?(r.print("\nThere is an angry looking goat blocking the escalator.\n"),r.print("\nThe goat looks very [hungry]. BAAAAA!\n"),r.isGoatOnFire&&r.print("\nThe goat is on [fire].\n")):"fire"===a&&r.isGoatOnFire?r.hasSpryte?(r.print("\nYou take the Spryte from your pocket and pour it over the goat. The flames go out.\n"),r.isGoatOnFire=!1):r.print("\nYep! That's a fire!\n"):"fire"!==a||r.isGoatOnFire?"hungry"===a&&r.isGoatOnFire?r.print("\nThe goat is on fire. Perhaps you should fire a way to put it out.\n"):"hungry"!==a||r.isGoatOnFire?r.print("\nInvalid command!"):(r.print("\nThe goat looks quite hungry. You hand it the empty Spryte can. The goat crunches through it in a matter of seconds. It 'BAAAAS' happily before hopping away. You continue up the broken escalator and return home. Did that really happen?\n"),r.gameWon()):r.print("\nNo fire here!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),g=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("escalator"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),n.next=11;break;case 8:if("walk"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nYou start to walk up the escalator.\n"),new m));case 10:"machine"===a?r.print("\nOh wow! It's one of those cool new Spryte machines. It has a [coin] slot.\n"):"coin"===a&&!1===r.hasSpryte?(r.print("\nYou drop 4 coints into the vending machine. You hear a loud whirring sound followed by a loud *KA-CHUNK*. You reach down and pick up a Spryte.\n"),r.hasSpryte=!0):r.print("coin"===a&&r.hasSpryte?"\nYou already have a Spryte\n":"\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),y=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return i(u,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,t.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=15,e.getInput();case 15:return t.abrupt("return",new g);case 16:case"end":return t.stop()}},t)}))()}}]),u}(a),k=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Electrical Room"}},{key:"getDescription",value:function(e){return"This is an open electrical room. As you oberved all the wires on the wall, you see a very \nsuspicious [closet] that seems to have something in there. You also see a [table] in the corner.\nAfter observing, you can head [back]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("table"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}!1===r.hasCard?(r.print("\nYou took the staff card left on the table.\n"),r.hasCard=!0):!0===r.hasCard&&r.print("\nYou already have the staff card in your pocket.\n"),n.next=15;break;case 8:if("closet"!==a){n.next=12;break}r.print("\nThis is a trap. HAHAHAHA! Happy death day!\n"),r.gameOver(),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou return to the F11 Hallway.\n"),new A));case 14:r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),v=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Hidden Room"}},{key:"getDescription",value:function(e){return"You are in the hidden room of the hotel that no one dares to enter. This room is super dark and\nyou feel like there are millions of eyes watching you. On the table, you see a delicious\n[burger] that someone prepared for you. At the same time, you also see a shining [key] dropped on\nthe ground. Feel free to head [back] if you finish observing or you're just too scared."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("burger"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nYou ate a burger that someone injected venom, the only thing you can do now is to enjoy the\nlast minute of your life.\n"),n.next=19;break;case 8:if("key"!==a||!1!==r.hasKey){n.next=12;break}r.print("\nYou pick up the key dropped on the ground and seems pretty useful.\n"),r.hasKey=!0,n.next=19;break;case 12:if("key"!==a||!r.hasKey){n.next=16;break}r.print("\nYou already have the same key in your pocket, there is no need to pick up another one.\n"),n.next=19;break;case 16:if("back"!==a){n.next=18;break}return n.abrupt("return",(r.print("\nYou return to the 9th floor hallway.\n"),new T));case 18:r.print("\nInvaide command!");case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}},n)}))()}}]),e}(),w=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Soda Machine"}},{key:"getDescription",value:function(e){return"You are in front of the soda machine. You can purchase a [soda] for free, or head [back] to keep\nchecking the cameras."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("soda"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nYou just bought and drank the soda, you feel you can run faster than anytime before. Maybe this\nwill come useful later.\n"),r.speed+=10,n.next=11;break;case 8:if("back"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nYou return to check the camera.\n"),new I));case 10:r.print("\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),b=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Hotel Back Gate"}},{key:"getDescription",value:function(e){return"You see the light! This is the last door you gotta open to get out of this place. You enetered\nthe password from the paper you stole. It's unlocked, trying to [open] it. If you are having\ntrouble opening it, you're too weak and need to go [back] to find something to boost your\nstrength."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("open"===(a=n.sent.toLowerCase().trim())&&r.strength>=10)){n.next=8;break}r.print("Great work! You successfully opened the gate and now you are out of the hotel."),r.print("\nHope you had fun playing this game. Remember, Manager Jones is the one behind this!\n"),r.gameWon(),n.next=15;break;case 8:if(!("open"===a&&r.strength<10)){n.next=12;break}r.print("\nYou do not have enough strength to open this gate. You need to find something to eat!\n"),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou head back to the cafe.\n"),new x));case 14:r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cafe"}},{key:"getDescription",value:function(e){return"Somehow you are in the lobby of the hotel now. This is a cafe that you found while escaping from\nthe staff. Now in front of you, there is another [burger], not sure if you wanna eat this.\nYou can disregard it and head towards the [gate] as well if you want."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("burger"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nWow, this burger tastes delicious. You feel like you are getting stronger.\n"),r.strength+=10,n.next=11;break;case 8:if("gate"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nNow you are heading towards the back gate, you're almost there.\n"),new b));case 10:r.print("\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Staff Lounge"}},{key:"getDescription",value:function(e){return"You enter the staff lounge and see a staff member taking a nap on the chair. You see a paper\non his belt and stole it from him. Suddenly, you wake the staff member and it starts to chase\nyou. The hotel back [gate] is just in front, you can also hide in the [cafe] for a moment.\nMake a quick decison!"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","gate"===a&&r.speed<10||"cafe"===a&&r.speed<10?(r.print("\nYou are too slow!! The staff esaily cought up to you can locked you back in Room 0901.\nMaybe try to find something that can boost your speed nex time.\n"),new R):"gate"===a&&r.speed>=10?(r.print("\nYou outrun the staff memeber! Now you are in front the hotel back gate.\n"),new b):"cafe"===a&&r.speed>=10?(r.print("\nYou outrun the staff member! Now you are inside of a cafe.\n"),new x):(r.print("\nInvalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Camera Room"}},{key:"getDescription",value:function(e){return"This is a camera room used by the staff, there are more than 10 computers in this room. You want\nto [check] the camera to find where you need to go next. At the same time, you see a random\nfree [soda] machine on the side. You can also choose to head [back] if you missed something."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("check"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasCamera){n.next=8;break}r.print("\nYou do not have access to the camera, maybe you forgot to pick up something important?\n"),n.next=15;break;case 8:if("check"!==a||!r.hasCamera){n.next=10;break}return n.abrupt("return",(r.print("\nYou successfully accessed the camera and located the staff lounge, you will be heading there now.\n"),new Y));case 10:if("soda"!==a){n.next=12;break}return n.abrupt("return",(r.print("\nSeems like you want to slack off just a little. You head towards the soda machine...\n"),new w));case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou return to Room 0901.\n"),new R));case 14:r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),R=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Room 0901"}},{key:"getDescription",value:function(e){return"This rooom is very similar to Room 1101 with its brand new design, seems like someone was locked\nhere just like you. As you observe the room, you find out that this room directly leads to a\n[camera] room, you also see a [card] covered in blood on the bed. You can also head [back]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("camera"!==(a=n.sent.toLowerCase().trim())){n.next=6;break}return n.abrupt("return",(r.print("\nYou enter the camera room directly ahead, start observing the room.\n"),new I));case 6:if("card"!==a||!1!==r.hasCamera){n.next=10;break}r.print("\nYou pick up the bloody card, maybe you'll use it later.\n"),r.hasCamera=!0,n.next=17;break;case 10:if("card"!==a||!r.hasCamera){n.next=14;break}r.print("\nYou already have this card in your pocket, you don't need a second one.\n"),n.next=17;break;case 14:if("back"!==a){n.next=16;break}return n.abrupt("return",(r.print("\nYou return to the hallway.\n"),new T));case 16:r.print("\nInvalid command!");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),T=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"F9 Hallway"}},{key:"getDescription",value:function(e){return"This is just like the hallway on the 11th floor, it also has a customer [room]. The only\ndifference is that it's on the 9th floor, and there is a [hidden] room that no one dares to enter.\nIt's not too late to head [back]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("room"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasKey){n.next=8;break}r.print("\nThis door is somehow locked, maybe try to find a key?\n"),n.next=15;break;case 8:if("room"!==a||!r.hasKey){n.next=10;break}return n.abrupt("return",(r.print("\nYou opened the door with the key, now you are in Room 0901.\n"),new R));case 10:if("hidden"!==a){n.next=12;break}return n.abrupt("return",(r.print("\nWOW, what a courage! You enter the scaring hidden room in the corner.\n"),new v));case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou return to the elevator and begins heading back up.\n"),new C));case 14:r.print("\nInvalid Command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),C=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Elevator"}},{key:"getDescription",value:function(e){return"This is the only elevator in this hotel, the only floor that lights up is the 9th floor. The door\nhas opened for you to [enter], or you can choose to stay [back]"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("\nYou enter the elevator, it is approaching the 9th floor where you will continue your escape...\n"),new T):"back"===a?(r.print("\nIt seems like you are too scared to enter the elvator, you will head back to the hallway.\n"),new A):(r.print("\nInvalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),A=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"F11Hallway"}},{key:"getDescription",value:function(e){return"You got out of the room and now you are in the hallway of the 11th floor. You see an [elevator]\nin front and a opened [electrical] room that seems to be strange, you can also head [back] to\nroom 1101"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("elevator"!==(a=n.sent.toLowerCase().trim())||!r.hasCard){n.next=6;break}return n.abrupt("return",(r.print("\nYou swipe the staff card and the door of the elevator slowly opens.\n"),new C));case 6:if("elevator"!==a||!1!==r.hasCard){n.next=10;break}r.print("\nYou do not have access to the elevator, maybe look for a card?\n"),n.next=15;break;case 10:if("electrical"!==a){n.next=12;break}return n.abrupt("return",(r.print("\nYou enter the strange electrical room that looks like an electrical room.\n"),new k));case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("\nYou return to room 1101.\n"),new D));case 14:r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),D=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Room 1101"}},{key:"getDescription",value:function(e){return"Relatively new and clean room, seems like you are the first one to be locked in here. You realized\nthat the front door of the room is missing its handle. Do you want to try to open the [door] or\nwait for [death]. At the same time you saw a slightly cracked [drawer]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("drawer"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}!1===r.hasHandle?(r.print("\nYou opened the drawer and found a door handle inside.\n"),r.hasHandle=!0):!0===r.hasHandle&&r.print("\nYou already have the handle in your hand.\n"),n.next=15;break;case 8:if("door"!==a||!1!==r.hasHandle){n.next=12;break}r.print("\nYou tried to open the door but you can't seem to open it without a handle.\n"),n.next=15;break;case 12:if("door"!==a||!r.hasHandle){n.next=14;break}return n.abrupt("return",(r.print("\nYou successfully opened the door!\n"),new A));case 14:"death"===a?(r.print("\nYou will stay in this room and starve to death!!!\n"),r.gameOver()):r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),S=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasHandle=!1,e.hasKey=!1,e.hasCard=!1,e.hasCamera=!1,e.speed=0,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"Hotel Escape"}},{key:"getAuthor",value:function(){return"Manager Jones"}},{key:"getDescription",value:function(){return"Can you escape from this hotel?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasHandle=!1,e.hasKey=!1,e.hasCard=!1,e.hasCamera=!1,e.speed=0,e.strength=0,t.next=8,e.printTextFile("HotelEscape/title.txt");case 8:return e.print("\n                           A text adventure by Manager Jones\n"),e.sleep(.5),e.print("\nYou suddenly wake up and found yourself locked in Room 1101 inside of a hotel.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=15,e.getInput();case 15:return t.abrupt("return",new D);case 16:case"end":return t.stop()}},t)}))()}}]),u}(a),L=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return i(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new d),e.push(new y),e}},{key:"getAdventure",value:function(){return new S}}]),e}()),N=function e(t){o(this,e),this.TYPE="PrintMessage",this.message=t},E=function e(){o(this,e),this.TYPE="PickAdventureMessage"},O=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return i(e,[{key:"threadSleep",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=t.printQueue.length){n.next=2;break}return n.abrupt("return",new Promise(function(t){return setTimeout(t,1e3*e)}));case 2:return r=t.printQueue[t.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,n.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return n.stop()}},n)}))()}},{key:"sleep",value:function(e){var t=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:t})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.inputQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:return n=e.inputQueue.shift(),t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}},t)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=1e3*t,r=this.getStartTime(),a=0;a<e.length;a++)r+=n,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,t){var n=this,r=1e3*t,a=this.getStartTime();e.forEach(function(e){a+=r,n.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(n.fileCache.has(e)){var a=n.fileCache.get(e);return n.printLines(a,t),void r()}var o=new XMLHttpRequest,u="assets/"+e;o.addEventListener("load",function(a){var i=[];o.status>=200&&o.status<300?i=o.responseText.split("\n"):(i=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(u))),n.fileCache.set(e,i),n.printLines(i,t),r()}),o.open("GET",u),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.printQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:for(n=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=n;)r=e.printQueue.shift(),postMessage(new N(r.message));case 7:t.next=0;break;case 9:case"end":return t.stop()}},t)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var t=e.data;if("RunAdventureMessage"===t.TYPE){var n=L.SINGLE_ADVENTURE_MODE?L.getAdventure():L.getAdventures()[t.index];n.setEngine(O),console.log("Starting PrintThread."),O.startPrintThread(),console.log("Starting adventure."),n.run(),L.SINGLE_ADVENTURE_MODE||(n.onFinish=function(){return postMessage(new E)})}else"InputMessage"==t.TYPE?O.pushInput(t):(console.error("An illegal message was received by the engine: "),console.error(t))})}()}();