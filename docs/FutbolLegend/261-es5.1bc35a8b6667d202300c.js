!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var u=a(this).constructor;n=Reflect.construct(o,arguments,u)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}!function(){"use strict";function t(e,t,n,r,a,o,u){try{var i=e[o](u),s=i.value}catch(c){return void n(c)}i.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(a,o){var u=e.apply(n,r);function i(e){t(u,a,o,i,s,"next",e)}function s(e){t(u,a,o,i,s,"throw",e)}i(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return i(e,[{key:"print",value:function(e,t){this.engine.print(e,t)}},{key:"printTextFile",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,n.engine.printFile(e,t);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.engine.getInput();case 2:return n=t.sent,t.abrupt("return",(e.print("\n> ".concat(n,"\n")),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),t=" |",n="=-",r=0;r<e.length;r++)n+=r%2==0?"=":"-";e.length%2==1?n+="-=":(n+="=-=",t="  |");var a="| "+e+t;this.print("\n"+n+"\n"),this.print(a+"\n"),this.print(n+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._gameWon=!1,e._gameLost=!1,t.next=4,e.onStart();case 4:e.room=t.sent;case 5:if(e._gameWon||e._gameLost){t.next=15;break}return e.DisplayRoomName(),t.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),t.next=12,e.room.handleInput(e);case 12:e.room=t.sent;case 13:t.next=5;break;case 15:if(!e._gameWon){t.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=20,e.getInput();case 20:t.next=28;break;case 22:if(t.t0=e._gameLost,!t.t0){t.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return t.stop()}},t)}))()}}]),e}(),u=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("boulder"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),n.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){n.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new l));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),s=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("weights"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),n.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){n.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),n.next=15;break;case 12:if("elevator"!==a){n.next=14;break}return n.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new p));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),c=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new h):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),h=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("snoring"!==(a=n.sent.toLowerCase().trim())){n.next=6;break}return n.abrupt("return",(r.print("You slowly approach the snoring...\n"),new c));case 6:if("chest"!==a||!r.hasKey){n.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),n.next=17;break;case 10:if("chest"===a&&!r.hasKey){n.next=16;break}if("tunnel"!==a){n.next=13;break}return n.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new p));case 13:r.print("Invalid command!\n"),n.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),p=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new s):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new h):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new l):(e.print("Invalid command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),l=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new p):"left"===a?(r.print("You take the path to the left.\n"),new u):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new d):(r.print("Invalid Command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),d=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new l):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),f=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,t.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),t.abrupt("return",new d);case 8:case"end":return t.stop()}},t)}))()}}]),u}(a),g=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("\nSeeing no way forward, you return to the subway platform.\n"),new m):("goat"===a?(r.print("\nThere is an angry looking goat blocking the escalator.\n"),r.print("\nThe goat looks very [hungry]. BAAAAA!\n"),!0===r.isGoatOnFire&&r.print("\nThe goat is on [fire].\n")):"fire"===a&&!0===r.isGoatOnFire?!0===r.hasSpryte?(r.print("\nYou take the Spryte from your pocket and pour it over the goat. The flames go out.\n"),r.isGoatOnFire=!1):r.print("\nYep! That's a fire!\n"):"fire"===a&&r.isGoatOnFire?r.print("\nNo fire here\n"):"hungry"===a&&!0===r.isGoatOnFire?r.print("\nThe goat is on fire. Perhaps you should find a way to put it out.\n"):"hungry"!==a||r.isGoatOnFire?r.print("\nInvalid Command!\n"):(r.print("\nThe goat looks quite hungry. You hand it the empty \nSpryte can. The goat crunches through it in a matter of seconds. \nIt 'BAAAAS' happily before hopping away. You continue up the broken escalator \nand return home. Did that really happen?\n"),r.gameWon()),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),m=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("escalator"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),n.next=11;break;case 8:if("walk"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nYou start to walk up the escalator.\n"),new g));case 10:"machine"===a?r.print("\nOh wow! It's one of those cool new Spryte machines. It has a [coin] slot.\n"):"coin"===a&&!1===r.hasSpryte?(r.print("\nYou drop 4 coins into the vending machine. You hear a loud \nwhirring sound followed by a loud 'KA-Chunk'. You reach down and pick up a Spryte.\n"),r.hasSpryte=!0):r.print("coin"===a&&!0===r.hasSpryte?"mYou already have a Spryte\n":"\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),y=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return i(u,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,t.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=15,e.getInput();case 15:return t.abrupt("return",new m);case 16:case"end":return t.stop()}},t)}))()}}]),u}(a),k=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Food Pantry"}},{key:"getDescription",value:function(e){return"You enter the most amazing food pantry you have ever seen. \nYou notice there are lots of dog [treats] but nothing to satisfy your appetite. \nYou can also [return] from where you entered."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("treats"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasTreats){n.next=8;break}r.print("You find the most appetizing looking dog treat and stash it in your pocket.\n"),r.hasTreats=!0,n.next=15;break;case 8:if("treats"!==a||!0!==r.hasTreats){n.next=12;break}r.print("Your pockets are already too full of dog treats.\n"),n.next=15;break;case 12:if("return"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Golden Hallway\n"),new C));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),v=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Kitchen"}},{key:"getDescription",value:function(e){return'You enter a restaurant-level kitchen with ovens, fridges, toasters, friers, and more. \nThere is also a [potion] labeled "Invisibility". \nYou can also [return] from the way you came in.'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("potion"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasPotion){n.next=8;break}r.print("You grab the invisibility potion and drink it.\nYou start feeling a tingly sensation and all of the sudden you feel lighter.\n"),r.hasPotion=!0,n.next=15;break;case 8:if("potion"!==a||!0!==r.hasPotion){n.next=12;break}r.print("You already drank the potion. The flask is empty\n"),n.next=15;break;case 12:if("return"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Golden Hallway\n"),new C));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),w=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Balcony"}},{key:"getDescription",value:function(e){return"You step out onto a beautiful balcony. \nFrom here you can see nothing blue skies, \nthe crystal blue water, and surrounding jungle. \nThere is nothing to do here except enjoy the view or [return] to the swimming pool."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(n.t0=n.sent.toLowerCase().trim(),"return"!==n.t0){n.next=8;break}n.t1=(r.print("You take one last look at the view and turn around.\n"),new R),n.next=9;break;case 8:n.t1=(r.print("Invalid command!\n"),t);case 9:return n.abrupt("return",n.t1);case 10:case"end":return n.stop()}},n)}))()}}]),e}(),b=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Futbol Pitch"}},{key:"getDescription",value:function(e){return"You are suddenly blinded by light. \nYour suddenly begin to notice that you have stepped out onto a \nprofessional sized futbol pitch. \nThe humid air light blows through stadium. \nThere is nothing to do here except to play futbol and [return] to the Gaming Room"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(n.t0=n.sent.toLowerCase().trim(),"return"!==n.t0){n.next=8;break}n.t1=new x,n.next=9;break;case 8:n.t1=(r.print("Invalid command!\n"),t);case 9:return n.abrupt("return",n.t1);case 10:case"end":return n.stop()}},n)}))()}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Gaming Room"}},{key:"getDescription",value:function(e){return"You enter a dark and colorful room. \nSlowly you begin to notice monitors, pcs, and gaming equipment. \nYou make out a [door] at the other end of the room and a [password] on a white board. \nYou can also [return] to the Garage."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("password"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasPassword){n.next=8;break}r.print("You take out your phone and write the password down.\n"),r.hasPassword=!0,n.next=17;break;case 8:if("password"!==a||!0!==r.hasPassword){n.next=12;break}r.print("You already have the password on you phone.\n"),n.next=17;break;case 12:if("door"!==a){n.next=14;break}return n.abrupt("return",(r.print("You walk across the room and reach to open the soundproof door.\n"),new b));case 14:if("return"!==a){n.next=16;break}return n.abrupt("return",(r.print("You return to the Garage.\n"),new T));case 16:r.print("Invalid command!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Vault"}},{key:"getDescription",value:function(e){return"You walk through the door and a giant vault door. \nThe vault has a scanner for a dog tag and a slot for a key. \nYou can try to [unlock] the vault or [return] from the way you came."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("unlock"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasTag||!1!==r.hasKey){n.next=8;break}r.print("You don't have the dog tag or key to unlock the vault.\nIt remains locked.\n"),n.next=23;break;case 8:if("unlock"!==a||!0!==r.hasTag||!1!==r.hasKey){n.next=12;break}r.print("You reach into you pocket for the dog tag and scan it.\nThe vault waits for the key but you do not have it.\nThe vault remains locked.\n"),n.next=23;break;case 12:if("unlock"!==a||!1!==r.hasTag||!0!==r.hasKey){n.next=16;break}r.print("You insert the key into the vault and wait.\nYou don't have a dog tag to scan and the vault remains locked.\n"),n.next=23;break;case 16:if("unlock"!==a||!0!==r.hasTag||!0!==r.hasKey){n.next=20;break}r.print("You scan the dog tag and insert the key.\nYou wait a second and then the vault accepts the identification.\nYou listen as the vault clicks and finally open. Inside you see the World Cup trophy! You quickly \ngrab the trophy and open an adjacent door that leads to a secret entrance to another garage.\nYou quickly take a boat and speed away.\n"),r.gameWon(),n.next=23;break;case 20:if("return"!==a){n.next=22;break}return n.abrupt("return",(r.print("You turn around and return to the hallway.\n"),new I));case 22:r.print("Invalid command!\n");case 23:return n.abrupt("return",t);case 24:case"end":return n.stop()}},n)}))()}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Secure Hallway"}},{key:"getDescription",value:function(e){return"You enter a long white hallway with a fortified steel door \nwith password entry at the other end.\nYou see security cameras and motion sensors ahead. \nYou can choose to go forward to the keypad and enter a [password] or [return] to the garage."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("password"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasPotion){n.next=8;break}r.print("You begin walking forward but the cameras and motion sensors\n pick up your movement. The alarm sounds and lights start to flash.\n"),r.gameOver(),n.next=17;break;case 8:if("password"!==a||!0!==r.hasPotion||!1!==r.hasPassword){n.next=12;break}r.print("You walk past the cameras and motion sensors without a stir.\nYou reach the door but it requires a password.\nYou are stuck.\n"),n.next=17;break;case 12:if("password"!==a||!0!==r.hasPotion||!0!==r.hasPassword){n.next=14;break}return n.abrupt("return",(r.print("You glide past the cameras and motion sensors without alerting them.\nYou reach the door and type the password from your phone.\nThe door slowly unlock and swings open.\n"),new Y));case 14:if("return"!==a){n.next=16;break}return n.abrupt("return",new T);case 16:r.print("Invalid command!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),T=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Garage"}},{key:"getDescription",value:function(e){return"You enter a massive garage with luxury cars parked in every available space. \nYou notice a [key] wall that looks important and a colorful door to your [left]. \nYou can also [return] from the way you came \nor go through the door [straight] ahead marked with surveillance signs. \nWhich path do you pick?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("key"!==(a=n.sent.toLowerCase().trim())||!1!==r.hasKey){n.next=8;break}r.print("You grab the key that looks the most important and stuff it in your pocket.\n"),r.hasKey=!0,n.next=17;break;case 8:if("key"!==a||!0!==r.hasKey){n.next=12;break}r.print("You already have the most important key and don't have any more room in your pocket.\n"),n.next=17;break;case 12:if("left"!==a){n.next=14;break}return n.abrupt("return",(r.print("You walk past all the cars and click the button to open the door.\n"),new x));case 14:if("straight"!==a){n.next=16;break}return n.abrupt("return",(r.print("You make your way through the cars and cautiously open the door.\n"),new I));case 16:r.print("Invalid command!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),R=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Swimming Pool"}},{key:"getDescription",value:function(e){return"As you look into the glass doors you see a magnificent pool with water falls and slides. \nYou enter and see a dog. \nAlerted, the dog walks towards you ready to bark. \nYou can give it a [treat], take its dog [tag], walk [forward], turn to a door on your [right], \nor [return] to the Golden Hallway. \nWhich path do you pick?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("treat"!==(a=n.sent.toLowerCase().trim())||!0!==r.hasTreats){n.next=8;break}r.print("You reach into your pocket and pull out a treat.\nYou give it to the dog the sits and begins devouring the treat.\n"),r.hasFood=!0,n.next=29;break;case 8:if("treat"!==a||!1!==r.hasTreats){n.next=12;break}r.print("You reach into your pocket but it's empty.\nThe dog walks closer and starts barking.\n"),r.gameOver(),n.next=29;break;case 12:if("tag"!==a||!0!==r.hasFood){n.next=16;break}r.print("You discreetly unhook the tag and take it while the dog eats the snack.\n"),r.hasTag=!0,n.next=29;break;case 16:if("tag"!==a||!1!==r.hasFood){n.next=20;break}r.print("You reach for the tag, but the dog starts growling and and barking.\n"),r.gameOver(),n.next=29;break;case 20:if("forward"!==a||!1!==r.hasFood){n.next=24;break}r.print("You try to walk around the dog but it starts barking.\n"),r.gameOver(),n.next=29;break;case 24:if("forward"!==a||!0!==r.hasFood){n.next=26;break}return n.abrupt("return",(r.print("You walk past the dog as it eats the treat and reach the door at the other end.\n"),new T));case 26:if("right"!==a||!0!==r.hasFood){n.next=28;break}return n.abrupt("return",(r.print("You turn to the outside facing doors and push them open.\n"),new w));case 28:"right"===a&&!1===r.hasFood?(r.print("You turn to your right but the dog is alerted and begins barking.\n"),r.gameOver()):r.print("Invalid command!\n");case 29:return n.abrupt("return",t);case 30:case"end":return n.stop()}},n)}))()}}]),e}(),C=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Golden Hallway"}},{key:"getDescription",value:function(e){return"You are standing at one end of a gorgeous hallway plated with gold. \nThere is a door to your [left] and a door on your [right]. \nYou also see that the hallway proceeds [forward]. \nWhich path do you pick?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","left"===a?(r.print("You walk towards the door on your left. It opens automatically.\n"),new k):"right"===a?(r.print("You turn to the right a walk towards a giant metal door.\n"),new v):"forward"===a?(r.print("You walk forward as you analyze the Greek columns and Gold Trim.\nAs you walk and look at the photos of dogs, you begin to notice the air is getting warmer\nand more humid. As you near a glass door, you peer inside."),new R):(r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),P=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Volcano Door"}},{key:"getDescription",value:function(e){return"You are standing at the face of a lavafall. \nThere is an open door. \nDo you [enter] here or [retreat] to your home?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("You proceed through the door as the lava parts ways.\n"),new C):("retreat"===a?(r.print("You aren't up for the challenge and begin walking home\n"),r.gameOver()):r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),A=function(t){e(u,t);var a=n(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasTreats=!1,e.hasPotion=!1,e.hasTag=!1,e.hasKey=!1,e.hasPassword=!1,e.hasFood=!1,e}return i(u,[{key:"getName",value:function(){return"Futbol Legend"}},{key:"getAuthor",value:function(){return"Bucket Hat Boi Becket"}},{key:"getDescription",value:function(){return"Can you retrieve the stolen World Cup Trophy in time?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasTreats=!1,e.hasPotion=!1,e.hasTag=!1,e.hasKey=!1,e.hasPassword=!1,e.hasFood=!1,t.next=8,e.printTextFile("FutbolLegend/title.txt");case 8:return e.print("\n                           A text adventure by Bucket Hat Boi Becket\n"),e.sleep(.5),e.print("\nWord has just gotten out that the World Cup tournament trophy has been stolen.\n\n"),e.sleep(.5),e.print("\nNews channels and speculations all point to a suspicious villain named Ava.\n\n"),e.sleep(.5),e.print("\nHer lair is located on her private island with an active volcano.\n\n"),e.sleep(.5),e.print("\nWith the tournament beginning in only 24 hours, the tournament's board has offered a hefty \nreward for the return of the trophy with the promise of eternal glory.\n\n"),e.sleep(.5),e.print("\nWill you rise to the challenge or cower at the face of danger?\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=23,e.getInput();case 23:return t.abrupt("return",new P);case 24:case"end":return t.stop()}},t)}))()}}]),u}(a),D=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return i(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new f),e.push(new y),e}},{key:"getAdventure",value:function(){return new A}}]),e}()),L=function e(t){o(this,e),this.TYPE="PrintMessage",this.message=t},S=function e(){o(this,e),this.TYPE="PickAdventureMessage"},O=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return i(e,[{key:"threadSleep",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=t.printQueue.length){n.next=2;break}return n.abrupt("return",new Promise(function(t){return setTimeout(t,1e3*e)}));case 2:return r=t.printQueue[t.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,n.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return n.stop()}},n)}))()}},{key:"sleep",value:function(e){var t=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:t})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.inputQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:return n=e.inputQueue.shift(),t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}},t)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=1e3*t,r=this.getStartTime(),a=0;a<e.length;a++)r+=n,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,t){var n=this,r=1e3*t,a=this.getStartTime();e.forEach(function(e){a+=r,n.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(n.fileCache.has(e)){var a=n.fileCache.get(e);return n.printLines(a,t),void r()}var o=new XMLHttpRequest,u="assets/"+e;o.addEventListener("load",function(a){var i=[];o.status>=200&&o.status<300?i=o.responseText.split("\n"):(i=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(u))),n.fileCache.set(e,i),n.printLines(i,t),r()}),o.open("GET",u),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.printQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:for(n=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=n;)r=e.printQueue.shift(),postMessage(new L(r.message));case 7:t.next=0;break;case 9:case"end":return t.stop()}},t)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var t=e.data;if("RunAdventureMessage"===t.TYPE){var n=D.SINGLE_ADVENTURE_MODE?D.getAdventure():D.getAdventures()[t.index];n.setEngine(O),console.log("Starting PrintThread."),O.startPrintThread(),console.log("Starting adventure."),n.run(),D.SINGLE_ADVENTURE_MODE||(n.onFinish=function(){return postMessage(new S)})}else"InputMessage"==t.TYPE?O.pushInput(t):(console.error("An illegal message was received by the engine: "),console.error(t))})}()}();