!function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,t)}function t(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,o=a(e);if(n){var u=a(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return r(this,t)}}function r(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),e}!function(){"use strict";function n(e,n,t,r,a,o,u){try{var i=e[o](u),s=i.value}catch(c){return void t(c)}i.done?n(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(a,o){var u=e.apply(t,r);function i(e){n(u,a,o,i,s,"next",e)}function s(e){n(u,a,o,i,s,"throw",e)}i(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return i(e,[{key:"print",value:function(e,n){this.engine.print(e,n)}},{key:"printTextFile",value:function(e,n){var t=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,t.engine.printFile(e,n);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.engine.getInput();case 2:return t=n.sent,n.abrupt("return",(e.print("\n> ".concat(t,"\n")),t));case 4:case"end":return n.stop()}},n)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),n=" |",t="=-",r=0;r<e.length;r++)t+=r%2==0?"=":"-";e.length%2==1?t+="-=":(t+="=-=",n="  |");var a="| "+e+n;this.print("\n"+t+"\n"),this.print(a+"\n"),this.print(t+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e._gameWon=!1,e._gameLost=!1,n.next=4,e.onStart();case 4:e.room=n.sent;case 5:if(e._gameWon||e._gameLost){n.next=15;break}return e.DisplayRoomName(),n.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),n.next=12,e.room.handleInput(e);case 12:e.room=n.sent;case 13:n.next=5;break;case 15:if(!e._gameWon){n.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),n.next=20,e.getInput();case 20:n.next=28;break;case 22:if(n.t0=e._gameLost,!n.t0){n.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),n.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return n.stop()}},n)}))()}}]),e}(),u=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(!("boulder"===(a=t.sent.toLowerCase().trim())&&r.strength<10)){t.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),t.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){t.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),t.next=15;break;case 12:if("back"!==a){t.next=14;break}return t.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new l));case 14:r.print("Invalid command!\n");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}},t)}))()}}]),e}(),s=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(!("weights"===(a=t.sent.toLowerCase().trim())&&r.strength<10)){t.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),t.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){t.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),t.next=15;break;case 12:if("elevator"!==a){t.next=14;break}return t.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new p));case 14:r.print("Invalid command!\n");case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}},t)}))()}}]),e}(),c=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new h):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),h=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("snoring"!==(a=t.sent.toLowerCase().trim())){t.next=6;break}return t.abrupt("return",(r.print("You slowly approach the snoring...\n"),new c));case 6:if("chest"!==a||!r.hasKey){t.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),t.next=17;break;case 10:if("chest"===a&&!r.hasKey){t.next=16;break}if("tunnel"!==a){t.next=13;break}return t.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new p));case 13:r.print("Invalid command!\n"),t.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}},t)}))()}}]),e}(),p=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new s):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new h):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new l):(e.print("Invalid command!\n"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),l=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new p):"left"===a?(r.print("You take the path to the left.\n"),new u):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new f):(r.print("Invalid Command!\n"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),f=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new l):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),_=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return i(u,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,n.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),n.abrupt("return",new f);case 8:case"end":return n.stop()}},n)}))()}}]),u}(a),g=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","back"===a?(r.print("\nSeeing no way forward, you return to the subway platform.\n"),new d):("goat"===a?(r.print("\n there is an angry looking goat blocking the escalator \n"),r.print("\n the goat looks very [hungry]. BAAAA!"),r.isGoatOnFire&&r.print("\n The goat is on fire\n")):"fire"===a&&!0===r.isGoatOnFire?!0===r.hasSpryte?(r.print("\n you take a Spryte from your pocket and pour it \n over the goat. The flames go out.\n"),r.isGoatOnFire=!1):r.print("\n Yep! that's a fire."):"hungry"===a&&!1===r.isGoatOnFire?r.print("\n No fire here! \n"):"hungry"===a&&!0===r.isGoatOnFire?r.print("\n The goat is on fire. Perhaps you should find \n a way to put it out.\n"):"hungry"===a&&!1===r.isGoatOnFire?(r.print("\n The goat looks quite hungry. You hand it the empty Spryte can. \n The goat crunches through it in a matter of seconds. It 'BAAAAAS' happily before hopping away.\n You continue up the broken escalator and return home. Did that really happen?"),r.gameWon()):r.print("\nInvalid command!"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),d=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("escalator"!==(a=t.sent.toLowerCase().trim())){t.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),t.next=11;break;case 8:if("walk"!==a){t.next=10;break}return t.abrupt("return",(r.print("You start to walk up the escalator."),new g));case 10:"machine"===a?r.print("Oh wow! It's one of those cool new Spryte machines. It has a [coin] slot."):"coin"===a&&!1===r.hasSpryte?(r.print("You drop 4 coins into the vending machine. \nYou hear a loud whirring sound followed by a loud KA CHUNK. You reach down and pickup a Spryte"),r.hasSpryte=!0):r.print("coin"===a&&r.hasSpryte?"You already have a Spryte":"Invalid Command");case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))()}}]),e}(),m=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return i(u,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,n.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),n.next=15,e.getInput();case 15:return n.abrupt("return",new d);case 16:case"end":return n.stop()}},n)}))()}}]),u}(a),y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Dark Room"}},{key:"getDescription",value:function(e){return"You have just entered THE DARK ROOM... Suddenly you hear the horrible noise of brain hungry zombies...\n    Unable to see anything you slowly die\n    ___-----------___\n    __--~~                 ~~--__\n_-~~                             ~~-_\n_-~                                     ~-_\n/                                           |                                             |\n|                                               |\n|                                               |\n|                                                 |\n|                                                 |\n|                                                 |\n|                                               |\n|  |    _-------_               _-------_    |  |\n|  |  /~         ~           /~         ~  |  |\n||  |             |         |             |  ||\n|| |               |       |               | ||\n|| |              |         |              | ||\n|   _           /                      _/   |\n|      ~~--_____-~    /~V~    ~-_____--~~      |\n|                    |     |                    |\n|                    |       |                    |\n|                    |  /^  |                    |\n|                    ~~   ~~                    |\n_         _                       _         _/\n~--____-~ ~                   /~ ~-____--~\n       /                 /     /\n       | ( ,           , ) |    /\n    |   | (~(__(  |  )__)~) |   |\n     |   / (  (~~|~~)  ) /   |\n      |   |  [ [  |  ] ]  /   |\n       |                     |\n                           /\n         ~-_             _-~\n            ~--___-___--~"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e.gameOver(),n));case 1:case"end":return t.stop()}},t)}))()}}]),e}(),v=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Bedroom"}},{key:"getDescription",value:function(e){return"You have just entered a bedroom... The two zombies are catching up fast. \nHURRY hide [hide] or KEEP RUNNING [RUN]"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if("hide"!==(a=t.sent.toLowerCase().trim())){t.next=8;break}r.print("\nUh oh the zombies are here... Your dead\n            ___-----------___\n            __--~~                 ~~--__\n        _-~~                             ~~-_\n     _-~                                     ~-_\n    /                                              |                                             |\n  |                                               |\n  |                                               |\n |                                                 |\n |                                                 |\n |                                                 |\n  |                                               |\n  |  |    _-------_               _-------_    |  |\n  |  |  /~         ~           /~         ~  |  |\n   ||  |             |         |             |  ||\n   || |               |       |               | ||\n   || |              |         |              | ||\n   |   _           /                      _/   |\n  |      ~~--_____-~    /~V~    ~-_____--~~      |\n  |                    |     |                    |\n |                    |       |                    |\n |                    |  /^  |                    |\n  |                    ~~   ~~                    |\n   _         _                       _         _/\n     ~--____-~ ~                   /~ ~-____--~\n               /                 /     /\n               | ( ,           , ) |    /\n            |   | (~(__(  |  )__)~) |   |\n             |   / (  (~~|~~)  ) /   |\n              |   |  [ [  |  ] ]  /   |\n               |                     |\n                                   /\n                 ~-_             _-~\n                    ~--___-___--~\n"),r.gameOver(),t.next=11;break;case 8:if("run"!==a){t.next=10;break}return t.abrupt("return",(r.print("\nFASTER...\n"),new y));case 10:r.print("entered "+a),r.print("Invalid Command");case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))()}}]),e}(),k=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The City Square"}},{key:"getDescription",value:function(e){return"While driving to the bunker you get a flat tire and zombies appear out of no where and murder you... See ya next time"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e.gameOver(),n));case 1:case"end":return t.stop()}},t)}))()}}]),e}(),w=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Moms House"}},{key:"getDescription",value:function(e){return"You arrive at your moms house... You immediatly get bombarded by zombies trying to kill you... \nYou can either use your laser[laser] or fight the zombies with your fists[fists]... Neither option guarentees your saftey"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return",("laser"===a?(!0===r.hasLaser&&r.print("\nBOOM... You're taking them down fast...CRAP...\n             The laser jammed... Someone hellllpppppppp...You have died \n             ___-----------___\n             __--~~                 ~~--__\n         _-~~                             ~~-_\n      _-~                                     ~-_\n     /                                               |                                             |\n   |                                               |\n   |                                               |\n  |                                                 |\n  |                                                 |\n  |                                                 |\n   |                                               |\n   |  |    _-------_               _-------_    |  |\n   |  |  /~         ~           /~         ~  |  |\n    ||  |             |         |             |  ||\n    || |               |       |               | ||\n    || |              |         |              | ||\n    |   _           /                      _/   |\n   |      ~~--_____-~    /~V~    ~-_____--~~      |\n   |                    |     |                    |\n  |                    |       |                    |\n  |                    |  /^  |                    |\n   |                    ~~   ~~                    |\n    _         _                       _         _/\n      ~--____-~ ~                   /~ ~-____--~\n                /                 /     /\n                | ( ,           , ) |    /\n             |   | (~(__(  |  )__)~) |   |\n              |   / (  (~~|~~)  ) /   |\n               |   |  [ [  |  ] ]  /   |\n                |                     |\n                                    /\n                  ~-_             _-~\n                     ~--___-___--~\n"),r.gameOver()):"fists"===a?(r.print("\nOUCH... That one hurt. Wait what is that.\n             Someone hellppppp meeeeeee.......\n             ___-----------___\n             __--~~                 ~~--__\n         _-~~                             ~~-_\n      _-~                                     ~-_\n     /                                               |                                             |\n   |                                               |\n   |                                               |\n  |                                                 |\n  |                                                 |\n  |                                                 |\n   |                                               |\n   |  |    _-------_               _-------_    |  |\n   |  |  /~         ~           /~         ~  |  |\n    ||  |             |         |             |  ||\n    || |               |       |               | ||\n    || |              |         |              | ||\n    |   _           /                      _/   |\n   |      ~~--_____-~    /~V~    ~-_____--~~      |\n   |                    |     |                    |\n  |                    |       |                    |\n  |                    |  /^  |                    |\n   |                    ~~   ~~                    |\n    _         _                       _         _/\n      ~--____-~ ~                   /~ ~-____--~\n                /                 /     /\n                | ( ,           , ) |    /\n             |   | (~(__(  |  )__)~) |   |\n              |   / (  (~~|~~)  ) /   |\n               |   |  [ [  |  ] ]  /   |\n                |                     |\n                                    /\n                  ~-_             _-~\n                     ~--___-___--~\n"),r.gameOver()):r.print("Invalid Command"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),b=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Bunker"}},{key:"getDescription",value:function(e){return"You arrive at the bunker... One zombie is guarding the bunker...\n Use your laser to kill him[laser] "}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:if(t.t2=t.sent.toLowerCase().trim(),t.t1="laser"===t.t2,!t.t1){t.next=7;break}t.t1=!0===r.hasLaser;case 7:if(t.t0=t.t1,!t.t0){t.next=10;break}t.t0=!0===r.hasKeys;case 10:if(t.t3=t.t0,!t.t3){t.next=13;break}r.print("\nCongrats thats the last of them... \n    Now hurry get in the bunker and make sure to lock the door\n"),r.gameWon();case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t)}))()}}]),e}(),x=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Store"}},{key:"getDescription",value:function(e){return"You have successfully entered the weapon store... To the right you see the laser zombie killer. \nYou steal it and receive a phone call from your mom telling you she has been captured by the zombies. \nDecide now; go save your mom and risk being killed [moms house] or assure your saftey \nand drive straight to the bunker"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return",(r.hasLaser=!0,"moms house"===a?(r.print("\nGood choice... You got this\n"),new w):"bunker"===a?(r.print("\nWow selfish to say the least...\n"),new b):(r.print("Invalid Command"),n)));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),I=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Car Dealership"}},{key:"getDescription",value:function(e){return"Great job... This next door has taken you into a car dealership... \nYou see three cars in front of you and a key. Hurry make your choice on which car to try to open.\nThe zombies are catching up fast [1],[2], or [3]"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return",("1"===a&&(r.print("\nGreat the car opened... You see another key that has the words bunker carved on them...\n    hurry hop in before the zombies get to you\n"),r.print("\nNow choose to either drive straight to the bunker[bunker]or to go to the \nstore to buy a laser that can kill zombies to stay protected[store]\n")),"bunker"===a?new k:"store"===a?new x:("2"===a?(r.print("\n Uh oh... its not opening and the keys stuck.\nToo late to make another decision the zombies have caught up to you and \nmade you their dinner...\n___-----------___\n__--~~                 ~~--__\n_-~~                             ~~-_\n_-~                                     ~-_\n/                                           |                                             |\n|                                               |\n|                                               |\n|                                                 |\n|                                                 |\n|                                                 |\n|                                               |\n|  |    _-------_               _-------_    |  |\n|  |  /~         ~           /~         ~  |  |\n||  |             |         |             |  ||\n|| |               |       |               | ||\n|| |              |         |              | ||\n|   _           /                      _/   |\n|      ~~--_____-~    /~V~    ~-_____--~~      |\n|                    |     |                    |\n|                    |       |                    |\n|                    |  /^  |                    |\n|                    ~~   ~~                    |\n_         _                       _         _/\n~--____-~ ~                   /~ ~-____--~\n     /                 /     /\n    | ( ,           , ) |    /\n|   | (~(__(  |  )__)~) |   |\n |   / (  (~~|~~)  ) /   |\n  |   |  [ [  |  ] ]  /   |\n   |                     |\n                       /\n     ~-_             _-~\n        ~--___-___--~\n"),r.gameOver()):"3"===a?(r.print("\n Uh oh... its not opening and the keys stuck.\n             Too late to make another decision the zombies have caught up to you \n             and made you their dinner...\n             ___-----------___\n             __--~~                 ~~--__\n         _-~~                             ~~-_\n      _-~                                     ~-_\n     /                                               |                                             |\n   |                                               |\n   |                                               |\n  |                                                 |\n  |                                                 |\n  |                                                 |\n   |                                               |\n   |  |    _-------_               _-------_    |  |\n   |  |  /~         ~           /~         ~  |  |\n    ||  |             |         |             |  ||\n    || |               |       |               | ||\n    || |              |         |              | ||\n    |   _           /                      _/   |\n   |      ~~--_____-~    /~V~    ~-_____--~~      |\n   |                    |     |                    |\n  |                    |       |                    |\n  |                    |  /^  |                    |\n   |                    ~~   ~~                    |\n    _         _                       _         _/\n      ~--____-~ ~                   /~ ~-____--~\n                /                 /     /\n                | ( ,           , ) |    /\n             |   | (~(__(  |  )__)~) |   |\n              |   / (  (~~|~~)  ) /   |\n               |   |  [ [  |  ] ]  /   |\n                |                     |\n                                    /\n                  ~-_             _-~\n                     ~--___-___--~\n"),r.gameOver()):r.print("Invalid Command"),n)));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),R=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Classroom"}},{key:"getDescription",value:function(e){return"You have just entered a school classroom... \nThe door behind you is locked and you see a zombie guarding the open door infront of you...\nIF you have bandages or a knife you will survive. Otherwise... it was great knowing you.\nPress enter to continue."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return t.sent.toLowerCase().trim(),t.abrupt("return",r.hasBandages?(r.print("\nCongrats your safe just run past the zombie and bandage up later...\n"),new I):r.hasKnife?(r.print("\nYou got this kill the zombie...\n"),new I):(r.hasPaper&&(r.print("\nHate to see it happen...\n            ___-----------___\n            __--~~                 ~~--__\n        _-~~                             ~~-_\n     _-~                                     ~-_\n    /                                              |                                             |\n  |                                               |\n  |                                               |\n |                                                 |\n |                                                 |\n |                                                 |\n  |                                               |\n  |  |    _-------_               _-------_    |  |\n  |  |  /~         ~           /~         ~  |  |\n   ||  |             |         |             |  ||\n   || |               |       |               | ||\n   || |              |         |              | ||\n   |   _           /                      _/   |\n  |      ~~--_____-~    /~V~    ~-_____--~~      |\n  |                    |     |                    |\n |                    |       |                    |\n |                    |  /^  |                    |\n  |                    ~~   ~~                    |\n   _         _                       _         _/\n     ~--____-~ ~                   /~ ~-____--~\n               /                 /     /\n               | ( ,           , ) |    /\n            |   | (~(__(  |  )__)~) |   |\n             |   / (  (~~|~~)  ) /   |\n              |   |  [ [  |  ] ]  /   |\n               |                     |\n                                   /\n                 ~-_             _-~\n                    ~--___-___--~\n"),r.gameOver()),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),T=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"The Kitchen"}},{key:"getDescription",value:function(e){return"You have just entered the Kitchen... You've found a key a three boxes in front of you... \nA note on the key informs you that the key only works once. Choose wisley [1] [2] or [3]"}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","1"===a?(r.print("\nA blank piece of paper KEEP RUNNING...\n"),r.hasPaper=!0,new R):"2"===a?(r.print("\n Congrats you got a knife KEEP RUNNING...\n"),r.hasKnife=!0,new R):"3"===a?(r.print("\n Congrats you got bandages KEEP RUNNING...\n"),r.hasBandages=!0,new R):(r.print("Invalid Command"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return i(e,[{key:"getName",value:function(e){return"Entrance of Maze"}},{key:"getDescription",value:function(e){return"You have just entered a maze a two zombies are coming your way ready to eat your brains. \nThere is a room to your right[right] and a room to your left[left]."}},{key:"handleInput",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,r.getInput();case 3:return a=t.sent.toLowerCase().trim(),t.abrupt("return","right"===a?(r.print("\nGreat choice...\n"),new v):"left"===a?(r.print("\nGreat choice...\n"),new T):(r.print("Invalid Command"),n));case 5:case"end":return t.stop()}},t)}))()}}]),e}(),C=function(n){e(u,n);var a=t(u);function u(){var e;return o(this,u),(e=a.apply(this,arguments)).hasPaper=!1,e.hasKnife=!1,e.hasBandages=!1,e.hasLaser=!1,e.hasKeys=!1,e}return i(u,[{key:"getName",value:function(){return"The Zombie Apocolypse"}},{key:"getAuthor",value:function(){return"Daniel Rosenzweig"}},{key:"getDescription",value:function(){return"Can you survive the Zombie Apocolypse?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.hasKnife=!1,e.hasPaper=!1,e.hasBandages=!1,e.hasLaser=!1,e.hasKeys=!1,e.print("\n                           A text adventure by Daniel Rosenzweig\n"),e.sleep(.5),e.print("\nAfter a long day of work you walk outside and see your stuck in a maze\n\n"),e.sleep(.5),e.print("You hear the growns of zombies all around you\n\n"),e.sleep(.5),e.print("Are you ready to survive a zombie apocolypse at all costs\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),n.next=16,e.getInput();case 16:return n.abrupt("return",new Y);case 17:case"end":return n.stop()}},n)}))()}}]),u}(a),N=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return i(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new _),e.push(new m),e}},{key:"getAdventure",value:function(){return new C}}]),e}()),A=function e(n){o(this,e),this.TYPE="PrintMessage",this.message=n},O=function e(){o(this,e),this.TYPE="PickAdventureMessage"},D=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return i(e,[{key:"threadSleep",value:function(e){var n=this;return r(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=n.printQueue.length){t.next=2;break}return t.abrupt("return",new Promise(function(n){return setTimeout(n,1e3*e)}));case 2:return r=n.printQueue[n.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,t.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return t.stop()}},t)}))()}},{key:"sleep",value:function(e){var n=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:n})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=e.inputQueue.length){n.next=5;break}return n.next=3,e.threadSleep(.1);case 3:n.next=0;break;case 5:return t=e.inputQueue.shift(),n.abrupt("return",Promise.resolve(t));case 7:case"end":return n.stop()}},n)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,t=1e3*n,r=this.getStartTime(),a=0;a<e.length;a++)r+=t,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,n){var t=this,r=1e3*n,a=this.getStartTime();e.forEach(function(e){a+=r,t.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,t=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(t.fileCache.has(e)){var a=t.fileCache.get(e);return t.printLines(a,n),void r()}var o=new XMLHttpRequest,u="assets/"+e;o.addEventListener("load",function(a){var i=[];o.status>=200&&o.status<300?i=o.responseText.split("\n"):(i=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(u))),t.fileCache.set(e,i),t.printLines(i,n),r()}),o.open("GET",u),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function n(){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=e.printQueue.length){n.next=5;break}return n.next=3,e.threadSleep(.1);case 3:n.next=0;break;case 5:for(t=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=t;)r=e.printQueue.shift(),postMessage(new A(r.message));case 7:n.next=0;break;case 9:case"end":return n.stop()}},n)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var n=e.data;if("RunAdventureMessage"===n.TYPE){var t=N.SINGLE_ADVENTURE_MODE?N.getAdventure():N.getAdventures()[n.index];t.setEngine(D),console.log("Starting PrintThread."),D.startPrintThread(),console.log("Starting adventure."),t.run(),N.SINGLE_ADVENTURE_MODE||(t.onFinish=function(){return postMessage(new O)})}else"InputMessage"==n.TYPE?D.pushInput(n):(console.error("An illegal message was received by the engine: "),console.error(n))})}()}();