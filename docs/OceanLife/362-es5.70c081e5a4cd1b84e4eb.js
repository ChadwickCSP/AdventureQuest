!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return r(this,n)}}function r(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}!function(){"use strict";function t(e,t,n,r,a,o,i){try{var u=e[o](i),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(a,o){var i=e.apply(n,r);function u(e){t(i,a,o,u,s,"next",e)}function s(e){t(i,a,o,u,s,"throw",e)}u(void 0)})}}var a=function(){function e(){o(this,e),this._gameWon=!1,this._gameLost=!1}return u(e,[{key:"print",value:function(e,t){this.engine.print(e,t)}},{key:"printTextFile",value:function(e,t){var n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Printing: "+e),r.next=3,n.engine.printFile(e,t);case 3:case"end":return r.stop()}},r)}))()}},{key:"sleep",value:function(e){this.engine.sleep(e)}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.engine.getInput();case 2:return n=t.sent,t.abrupt("return",(e.print("\n> ".concat(n,"\n")),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"DisplayRoomName",value:function(){for(var e=this.room.getName(this),t=" |",n="=-",r=0;r<e.length;r++)n+=r%2==0?"=":"-";e.length%2==1?n+="-=":(n+="=-=",t="  |");var a="| "+e+t;this.print("\n"+n+"\n"),this.print(a+"\n"),this.print(n+"\n\n")}},{key:"setEngine",value:function(e){this.engine=e}},{key:"gameOver",value:function(){this._gameLost=!0}},{key:"gameWon",value:function(){this._gameWon=!0}},{key:"onFinish",value:function(){this.run()}},{key:"run",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._gameWon=!1,e._gameLost=!1,t.next=4,e.onStart();case 4:e.room=t.sent;case 5:if(e._gameWon||e._gameLost){t.next=15;break}return e.DisplayRoomName(),t.next=9,e.sleep(.5);case 9:return e.print(e.room.getDescription(e)+"\n"),t.next=12,e.room.handleInput(e);case 12:e.room=t.sent;case 13:t.next=5;break;case 15:if(!e._gameWon){t.next=22;break}return e.print("\nCongratulations, you won!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=20,e.getInput();case 20:t.next=28;break;case 22:if(t.t0=e._gameLost,!t.t0){t.next=28;break}return e.print("\nGame Over!\n\n"),e.print("\nPress Enter to Continue...\n"),t.next=28,e.getInput();case 28:e.onFinish();case 29:case"end":return t.stop()}},t)}))()}}]),e}(),i=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"A Dead End"}},{key:"getDescription",value:function(e){return"You are at a dead end. There is a large [boulder] here. A path leads [back] to\nthe mouth of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("boulder"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You try to lift the boulder but you're too weak!\n"),n.next=15;break;case 8:if(!("boulder"===a&&r.strength>=10)){n.next=12;break}r.print("You lift the boulder with ease!\n"),r.hasKey?r.print("Now you're just showing off.\n"):(r.print("Beneath the boulder, you find a key.\n"),r.print("You take the key and place it in your pocket!\n"),r.hasKey=!0),n.next=15;break;case 12:if("back"!==a){n.next=14;break}return n.abrupt("return",(r.print("You return to the Mouth of the Cave\n"),new l));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),s=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Ye Olde Gym"}},{key:"getDescription",value:function(e){return"You are in a gym filled with exercise equipment. A sign on the wall reads, 'Ye\nOlde Gym'. It appears all of the equipment is in use except for some [weights].\nOn the far wall is an [elevator]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(!("weights"===(a=n.sent.toLowerCase().trim())&&r.strength<10)){n.next=8;break}r.print("You pick up the weights and do a rep!\n"),r.strength=r.strength+6,r.sleep(1),r.print("Your strength is now ".concat(r.strength,"\n")),n.next=15;break;case 8:if(!("weights"===a&&r.strength>=10)){n.next=12;break}r.print("You're feeling pretty strong already, maybe you could go lift some boulders!\n"),n.next=15;break;case 12:if("elevator"!==a){n.next=14;break}return n.abrupt("return",(r.print("You enter the elevator and begin to ascend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The door opens and you step out into the cave.\n"),new p));case 14:r.print("Invalid command!\n");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),c=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"The Dragon's Lair"}},{key:"getDescription",value:function(e){return"You are standing inside of a dragon's lair! The air is hot and dank. A tunnel\nleads [back] the way you came. In the center of the room is a massive pile of\ngold atop which a massive red dragon slumbers. Probably best not to [wake] the\ndragon. If you could [slay] it, you would be a hero!"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("You head back the way you came.\n"),new h):("wake"===a?(r.print("You wake the dragon...\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()):"slay"===a&&r.hasSword?(r.print("You draw your sword to slay the dragon.\n"),r.sleep(1),r.print("With your sword in hand, you sneak up to the dragon and drive it into the\nbeast's heart. The evil dragon winces as it realizes its reign of terror is\nover. Congratulations, you are a hero!"),r.gameWon()):"slay"!==a||r.hasSword?r.print("Invalid command!\n"):(r.print("You attempt to pummel the dragon with your fists!\n"),r.sleep(1),r.print("The dragon wakes and snarls, 'Who disturbs my slumber!?' It glares at you with\ndisdain and smiles crookedly before devouring you. The dragon lets out a\nsatisfying belch before closing its eyes and drifting back to sleep."),r.gameOver()),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),h=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"A Large Natural Cave"}},{key:"getDescription",value:function(e){return"You are in a large natural room within a cave. It is unnaturally warm here and\nyou can hear what sounds like a giant creature [snoring] around a corner. In the\ncenter of the room is a [chest]. A [tunnel] leads back toward the mouth of the\ncave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("snoring"!==(a=n.sent.toLowerCase().trim())){n.next=6;break}return n.abrupt("return",(r.print("You slowly approach the snoring...\n"),new c));case 6:if("chest"!==a||!r.hasKey){n.next=10;break}!1===r.hasSword?(r.print("The chest is locked.\n"),r.sleep(1),r.print("You take the key from your pocket and unlock the chest.\n"),r.sleep(1),r.print("Inside, you find a beautiful sword!\n"),r.hasSword=!0):r.print("You search the chest again, but it is empty.\n"),n.next=17;break;case 10:if("chest"===a&&!r.hasKey){n.next=16;break}if("tunnel"!==a){n.next=13;break}return n.abrupt("return",(r.print("You head back toward the mouth of the cave.\n"),new p));case 13:r.print("Invalid command!\n"),n.next=17;break;case 16:r.print("The chest is locked!\n");case 17:return n.abrupt("return",t);case 18:case"end":return n.stop()}},n)}))()}}]),e}(),p=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"A Long Winding Tunnel"}},{key:"getDescription",value:function(e){return"You are in a long winding tunnel. It is pitch black except for the beam emitting\nfrom your flashlight. You notice a [button] on the wall here. In one direction,\nthe tunnel leads to the [mouth] of the cave. In the other, the [tunnel]\ncontinues."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","button"===a?(r.print("You press the button and wait."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("DING! The wall next to the button opens revealing an elevator!\n"),r.print("Entering the elevator, you begin to descend."),r.sleep(1),r.print("."),r.sleep(1),r.print(".\n"),r.sleep(1),r.print("The elevator door opens and you exit.\n"),new s):"tunnel"===a?(r.print("You continue down the tunnel.\n"),new h):"mouth"===a?(r.print("You return to the mouth of the cave.\n"),new l):(e.print("Invalid command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),l=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"The Mouth of the Cave"}},{key:"getDescription",value:function(e){return"You are at the mouth of the cave. It is dark and damp. Luckily, you brought your\ntrusty flashlight with you! You can see two paths here. One leads to the [left]\nand the other leads to the [right]. You can also see the [entrance] of the cave."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","right"===a?(r.print("You take the path to the right.\n"),new p):"left"===a?(r.print("You take the path to the left.\n"),new i):"entrance"===a?(r.print("On second thought, you return to the entrance.\n"),new f):(r.print("Invalid Command!\n"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),f=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Cave Entrance"}},{key:"getDescription",value:function(e){return"You stand before a cave. It is well known that an evil dragon slumbers here.\nFrom time to time, the dragon wakes to terrorize the nearby villages and steal\ntheir gold. Dare you [enter] the cave in search of riches? Or would you rather\n[run] home to the comfort of your warm bed?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","enter"===a?(r.print("You enter the cave.\n"),new l):("run"===a?(r.print("Scared of the dragon, you run home to your bed where fall asleep.\n"),r.gameOver()):r.print("Invalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),d=function(t){e(i,t);var a=n(i);function i(){var e;return o(this,i),(e=a.apply(this,arguments)).hasKey=!1,e.hasSword=!1,e.strength=0,e}return u(i,[{key:"getName",value:function(){return"The Dragon's Lair"}},{key:"getAuthor",value:function(){return"Joseph Collard"}},{key:"getDescription",value:function(){return"Description"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.strength=0,e.hasKey=!1,e.hasSword=!1,t.next=5,e.printTextFile("dragonsLair/title.txt");case 5:return e.print("\n                           A text adventure by Joseph Collard\n"),e.sleep(.5),t.abrupt("return",new f);case 8:case"end":return t.stop()}},t)}))()}}]),i}(a),g=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Broken Escalator"}},{key:"getDescription",value:function(e){return"You are standing on a broken escalator. There is a [goat] here blocking your \nway forward. The steps of the escalator lead [back] to the subway platform."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return","back"===a?(r.print("Seeing no way forward, you return to the subway platform.\n"),new m):("goat"===a?(r.print("\nThere is an angry looking goat blocking the escalator.\n"),r.print("\nThe goat looks very [hungry]. BAAAA.\n"),!0===r.isGoatOnFire&&r.print("\nThe goat is on [fire].\n")):"fire"===a&&!0===r.isGoatOnFire?!1===r.hasSpryte?r.print("\nYep! That's a fire!\n"):(r.print("\nYou take the Spryte from your pocket and pour it over the goat. The flames go out.\n "),r.isGoatOnFire=!1):"fire"===a&&!1===r.isGoatOnFire?r.print("\nNo fire here!\n"):"hungry"===a&&!0===r.isGoatOnFire?r.print("The goat is on fire. Perhaps you should find a way to put it out.\n"):"hungry"===a&&!1===r.isGoatOnFire?(r.print("The goat looks quite hungry. You hand it the empty Spyte can.\n The goat crunches it in a matter of seconds. It 'BAAAAS' happily before hopping away.\n You continue up the broken escalator and return home.\n Did that really happen?"),r.gameWon()):r.print("\nInvalid command!"),t));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),m=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Subway Platform"}},{key:"getDescription",value:function(e){return"You are standing on the subway platform. There is a broken [escalator] here\nand a vending [machine]."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("escalator"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("\nIt's broken. You'll have to [walk] up it.\n"),n.next=11;break;case 8:if("walk"!==a){n.next=10;break}return n.abrupt("return",(r.print("\nYou start to walk up the escalator.\n"),new g));case 10:"machine"===a?r.print("Oh wow! Its one of those cool new Spryte machines. It has a [coin] slot.\n"):"coin"===a&&!1===r.hasSpryte?(r.print("You drop 4 coins into the vending machine. You hear a loud whirring sound followed by a\n loud *KA-CHUNK*. You reach down and pickup a Spyrte.\n"),r.hasSpryte=!0):r.print("coin"===a&&r.hasSpryte?"You already have a Spryte.\n":"\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),y=function(t){e(i,t);var a=n(i);function i(){var e;return o(this,i),(e=a.apply(this,arguments)).isGoatOnFire=!0,e.hasSpryte=!1,e}return u(i,[{key:"getName",value:function(){return"Flaming Goat"}},{key:"getAuthor",value:function(){return"Goat Man Jones"}},{key:"getDescription",value:function(){return"Can you pass the Goat's challenge?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isGoatOnFire=!0,e.hasSpryte=!1,t.next=4,e.printTextFile("FlamingGoat/title.txt");case 4:return e.print("\n                           A text adventure by Goat Man Jones\n"),e.sleep(.5),e.print("\nAfter a long day, you are the lone passenger on a subway training heading toward home.\n\n"),e.sleep(.5),e.print("It slows as it approaches your stop.\n\n"),e.sleep(.5),e.print("The doors open and you step out onto an empty platform.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=15,e.getInput();case 15:return t.abrupt("return",new m);case 16:case"end":return t.stop()}},t)}))()}}]),i}(a),k=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Dingy"}},{key:"getDescription",value:function(e){return"You arrive back to the boat.\n When you get out of the water you immediatley dry.\n Uh oh footsteps.\nYou lay on the Dingy and pretend to [tan]"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if(n.t0=n.sent.toLowerCase().trim(),"tan"!==n.t0){n.next=8;break}r.print("Your friends are confused. They haven't seen you in hours.\nYou tell them you fell asleep and had a weird dream...."),r.gameWon(),n.next=9;break;case 8:r.print("\nInvalid command!");case 9:return n.abrupt("return",t);case 10:case"end":return n.stop()}},n)}))()}}]),e}(),v=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Mermaid Club"}},{key:"getDescription",value:function(e){return'You escaped from the Sea Witch!\n You find your mermaid friend in the Mermaid Club\nand you [tell] her everything"'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:return a=n.sent.toLowerCase().trim(),n.abrupt("return",("tell"===a&&r.print("Your mermaid friend is impressed and asks if you want to\n [stay] in Ocean City."),"stay"===a&&r.print("You tell her you will miss her but you have to get [home]."),"home"===a?(r.print("You give the mermaid the shell, and she gives you a ring so you can breathe.\n You now return to the boat"),new k):(r.print("\nInvalid command"),t)));case 5:case"end":return n.stop()}},n)}))()}}]),e}(),b=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Cave"}},{key:"getDescription",value:function(e){return'You are locked in a dungy lair with the Sea Witch.\n The witch tells you that you can not leave until you give her the shell.\n Do you [give] it to her or [keep] it.\n"'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("give"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You give her the shell and immediatley start to lose your breathe.\n You forgot you need the shell to breathe.\n You [take] it back"),r.hasShell=!1,n.next=33;break;case 8:if("take"!==a){n.next=12;break}r.print("You take the shell away from her and regain your breathe."),r.hasShell=!0,n.next=33;break;case 12:if("keep"!==a){n.next=16;break}r.print("You keep the shell away from her.\n She looks frustrated.\n Should you [compliment] her or call her [fat]?\n"),n.next=33;break;case 16:if("fat"!==a){n.next=20;break}r.print("You call the witch fat, and she throws a fit.\n You should just try and [leave]."),r.isWitchAngry=!0,n.next=33;break;case 20:if("compliment"!==a){n.next=24;break}r.print("You tell the witch she has a nice smile. She looks happy.\n Maybe you can try and [leave]."),r.isWitchAngry=!1,n.next=33;break;case 24:if("leave"!==a||!0!==r.isWitchAngry){n.next=28;break}r.print("You are attemping to leave, but the witch screams at you. You should [fight] her."),n.next=33;break;case 28:if("leave"!==a||!1!==r.isWitchAngry){n.next=30;break}return n.abrupt("return",(r.print("You ask politley if you can leave.\n Charmed by your manners, the witch lets you go!"),new v));case 30:if("fight"!==a||!0!==r.hasShavingCream){n.next=32;break}return n.abrupt("return",(r.print("You remeber the shaving cream in your pocket.\n You spray the Sea Witch with the shavign cream\n and she dies. Now you are able to escape!"),new v));case 32:"fight"===a&&!1===r.hasShavingCream?(r.print("You try and fight her, but she is bigger and stronger :(\n Better luck next time.\n"),r.gameOver()):r.print("\nInvalid command");case 33:return n.abrupt("return",t);case 34:case"end":return n.stop()}},n)}))()}}]),e}(),w=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Mall"}},{key:"getDescription",value:function(e){return"You are at the mall. You need to go to the [supermarket] and the [tail] store."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("supermarket"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You are at the supermarket. There is a piece of[hair] and shaving[cream] on the shelf."),n.next=39;break;case 8:if("cream"!==a||!1!==r.hasShavingCream){n.next=12;break}r.print("You chose the shaving cream. This is probably the smarter option."),r.hasShavingCream=!0,n.next=39;break;case 12:if("cream"!==a||!0!==r.hasShavingCream){n.next=16;break}r.print("You already have the shaving cream in your pocket."),n.next=39;break;case 16:if("hair"!==a){n.next=20;break}r.print("You chose the piece of hair. This looks useless."),n.next=39;break;case 20:if("tail"!==a){n.next=24;break}r.print("You need a tail to blend in. There is a [pink] tail and a [blue] tail."),n.next=39;break;case 24:if("blue"!==a){n.next=28;break}r.print("Your blue tail is very pretty... Uh oh..\n Who is [that]?? "),n.next=39;break;case 28:if("pink"!==a){n.next=32;break}r.print("Your pink tail is very pretty... Uh oh..\n Who is [that]?? "),n.next=39;break;case 32:if("that"!==a){n.next=36;break}r.print("It's the SEA WITCH! She spots the necklace around your neck"),r.sleep(.5),r.print("You begin to swim away...\n but her sharks capture you and bring you to her sea [cave]"),n.next=39;break;case 36:if("cave"!==a){n.next=38;break}return n.abrupt("return",(r.print("You get dragged to the Witch Lair."),new b));case 38:r.print("\nInvalid command!");case 39:return n.abrupt("return",t);case 40:case"end":return n.stop()}},n)}))()}}]),e}(),x=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Ocean City"}},{key:"getDescription",value:function(e){return"You are swimming towards Ocean City.\n This is so cool there are so many mermaids!\n You [ask] the mermaid why you are here."}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("ask"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("The mermaid tells you it is the duty of whoever holds the shell to defeat the\n Evil Sea Witch. "),r.sleep(.5),r.print("As you swim through the city, you make sure that no one can see you.\n Uh oh, these [girls] start swimming towards you."),n.next=15;break;case 8:if("girls"!==a){n.next=12;break}r.print("You panick. What if you've been discovered??\n"),r.sleep(.5),r.print("Oh, the meramid seems to know them.\n They are her friends!\n You get introduced, and they say you can't swim around like this.\n "),r.sleep(.5),r.print("It's time to go to the [mall]!"),n.next=15;break;case 12:if("mall"!==a){n.next=14;break}return n.abrupt("return",new w);case 14:r.print("\nInvalid command!");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),Y=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"UnderWater"}},{key:"getDescription",value:function(e){return'"You\'re in the water! Wait.. You can breathe??\n The meramid tells you to keep the shell around\n your neck to keep you safe.\n Do you [throw] the shell or keep it around your [neck]"'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("throw"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You get angry and throw the shell.\n Your lungs begin to fill up with water and you cant breathe."),r.hasShell=!1,n.next=14;break;case 8:if("neck"!==a){n.next=12;break}r.print("You put the necklace around your neck and are safe from drowning!\n"),r.hasShell=!0,r.print("The mermaid asks you to follow her to the [Ocean City]!"),n.next=14;break;case 12:if("ocean city"!==a){n.next=14;break}return n.abrupt("return",(r.print("You go towards Ocean City. This is going to be fun?"),new x));case 14:return n.abrupt("return",t);case 15:case"end":return n.stop()}},n)}))()}}]),e}(),I=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Deck"}},{key:"getDescription",value:function(e){return'You go back to the deck with your friends.\n They ask you what took so long.\n Do you [show] them the shell or keep it [hidden]?"'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("hidden"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You tell them there was no soap and do not mention the shell.\n What was that? Something just splashed\n in the [water]."),r.isShellHidden=!0,n.next=31;break;case 8:if("show"!==a){n.next=12;break}r.print("You decide to show them the shell, but it disappears!! What was that?\n Something just splashed in the [water]."),n.next=31;break;case 12:if("water"!==a){n.next=16;break}r.print("You see something splash in the water. You should probably go [check] it out?"),n.next=31;break;case 16:if("check"!==a||!1!==r.isShellHidden){n.next=18;break}return n.abrupt("return",(r.print("You look over the edge and there's nothing there.\n You should probably go back inside. "),new R));case 18:if("check"!==a||!r.isShellHidden){n.next=22;break}r.print("Omg! You see a tail splash up from the water!\n It pops its head up...\n It's a girl? A [mermaid]!"),n.next=31;break;case 22:if("mermaid"!==a){n.next=26;break}r.print("The mermaid calls you over. You slowly approach..."),r.sleep(.5),r.print("She tells you it is important for you to\n follow her. Do you jump [in] or go back [inside]?"),n.next=31;break;case 26:if("inside"!==a){n.next=28;break}return n.abrupt("return",(r.print("This is too sketchy to be real. You decide to ignore it."),new R));case 28:if("in"!==a){n.next=30;break}return n.abrupt("return",(r.print("You do what she says and jump in the water cuz why not"),new Y));case 30:r.print("\nInvalid command");case 31:return n.abrupt("return",t);case 32:case"end":return n.stop()}},n)}))()}}]),e}(),T=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Bathroom"}},{key:"getDescription",value:function(e){return"Phew! Thank god you made it to the bathroom in time.\n That coudl've been bad. Now where is the soap?\n It may be in the [drawer] or the [cabinent].\""}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("drawer"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("Nope! No soap in there."),n.next=15;break;case 8:if("cabinent"!==a){n.next=12;break}r.print("You found a shell! It appears to be almost magical. You return to the [deck]."),n.next=15;break;case 12:if("deck"!==a){n.next=14;break}return n.abrupt("return",new I);case 14:r.print("\nInvalid command");case 15:return n.abrupt("return",t);case 16:case"end":return n.stop()}},n)}))()}}]),e}(),R=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Inside Boat"}},{key:"getDescription",value:function(e){return'You are on the boat. Some of your friends [dance] and some want to get a [snack].\n There are also some people taking selfies in the [bathroom]."'}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("dance"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You are dancing with your friends to the best songs ever."),n.next=19;break;case 8:if("snack"!==a){n.next=12;break}r.print("You become hungry and go to the snack table.\n There are so many flavors of [juice].\n"),n.next=19;break;case 12:if("juice"!==a){n.next=16;break}r.print("You have to try all the flavors of juice!\nYou taste 7 different juices!!"),r.hasToPee=!0,n.next=19;break;case 16:if("bathroom"!==a||!r.hasToPee){n.next=18;break}return n.abrupt("return",(r.print("Too much juice! You hurry to the bathroom to pee."),new T));case 18:r.print("bathroom"===a&&!1===r.hasToPee?"You don't have to use the restroom yet.":"\nInvalid Command");case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}},n)}))()}}]),e}(),S=function(){function e(){o(this,e)}return u(e,[{key:"getName",value:function(e){return"Dock"}},{key:"getDescription",value:function(e){return"You are on a Dock about to board the [boat] to party with your friends. Would you\n rather jump in the [water]?"}},{key:"handleInput",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e,n.next=3,r.getInput();case 3:if("water"!==(a=n.sent.toLowerCase().trim())){n.next=8;break}r.print("You jump of the dock and can not get back up. You begin to drown."),r.gameOver(),n.next=11;break;case 8:if("boat"!==a){n.next=10;break}return n.abrupt("return",(r.print("You board the boat with all your friends. This party is going to be so fun!"),new R));case 10:r.print("\nInvalid command!");case 11:return n.abrupt("return",t);case 12:case"end":return n.stop()}},n)}))()}}]),e}(),C=function(t){e(i,t);var a=n(i);function i(){var e;return o(this,i),(e=a.apply(this,arguments)).hasToPee=!0,e.isWitchAngry=!0,e.isShellHidden=!0,e.hasShell=!1,e.hasShavingCream=!0,e}return u(i,[{key:"getName",value:function(){return"Ocean Life"}},{key:"getAuthor",value:function(){return"Millie the Mermaid"}},{key:"getDescription",value:function(){return"Can you make it as a mermaid?"}},{key:"onStart",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.hasToPee=!1,e.isWitchAngry=!1,e.isShellHidden=!1,e.hasShell=!0,e.hasShavingCream=!1,e.print("\n                           A text adventure by Millie the Mermaid\n"),e.sleep(.5),e.print("\nHow cool! A yacht party. You are so excited. \n\n "),e.sleep(.5),e.print("The Boat pulls into the dock.\n\n"),e.sleep(.5),e.print("Your friends begin boarding the boat.\n\n"),e.sleep(.5),e.print("Press Enter to Continue..."),t.next=16,e.getInput();case 16:return t.abrupt("return",new S);case 17:case"end":return t.stop()}},t)}))()}}]),i}(a),D=new(function(){function e(){o(this,e),this.SINGLE_ADVENTURE_MODE=!0}return u(e,[{key:"getAdventures",value:function(){var e=[];return e.push(new d),e.push(new y),e}},{key:"getAdventure",value:function(){return new C}}]),e}()),A=function e(t){o(this,e),this.TYPE="PrintMessage",this.message=t},O=function e(){o(this,e),this.TYPE="PickAdventureMessage"},L=new(function(){function e(){o(this,e),this.fileCache=new Map,this.inputQueue=[],this.printQueue=[]}return u(e,[{key:"threadSleep",value:function(e){var t=this;return r(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!=t.printQueue.length){n.next=2;break}return n.abrupt("return",new Promise(function(t){return setTimeout(t,1e3*e)}));case 2:return r=t.printQueue[t.printQueue.length-1].renderAfter-(new Date).getTime()+1e3*e,n.abrupt("return",new Promise(function(e){return setTimeout(e,r)}));case 4:case"end":return n.stop()}},n)}))()}},{key:"sleep",value:function(e){var t=this.getStartTime()+1e3*e;this.printQueue.push({message:"",renderAfter:t})}},{key:"getInput",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.inputQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:return n=e.inputQueue.shift(),t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}},t)}))()}},{key:"getStartTime",value:function(){return 0==this.printQueue.length?(new Date).getTime():this.printQueue[this.printQueue.length-1].renderAfter}},{key:"print",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,n=1e3*t,r=this.getStartTime(),a=0;a<e.length;a++)r+=n,this.printQueue.push({message:e[a],renderAfter:r})}},{key:"printLines",value:function(e,t){var n=this,r=1e3*t,a=this.getStartTime();e.forEach(function(e){a+=r,n.printQueue.push({message:e+"\n",renderAfter:a})})}},{key:"printFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=this;return r(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise(function(r){if(n.fileCache.has(e)){var a=n.fileCache.get(e);return n.printLines(a,t),void r()}var o=new XMLHttpRequest,i="assets/"+e;o.addEventListener("load",function(a){var u=[];o.status>=200&&o.status<300?u=o.responseText.split("\n"):(u=['Could not load file: "'.concat(e,'". Error Code: ').concat(o.status," - ").concat(o.statusText)],console.error("Could not load: ".concat(i))),n.fileCache.set(e,u),n.printLines(u,t),r()}),o.open("GET",i),o.send()}));case 1:case"end":return r.stop()}},r)}))()}},{key:"startPrintThread",value:function(){var e=this;return r(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.printQueue.length){t.next=5;break}return t.next=3,e.threadSleep(.1);case 3:t.next=0;break;case 5:for(n=(new Date).getTime();e.printQueue.length>0&&e.printQueue[0].renderAfter<=n;)r=e.printQueue.shift(),postMessage(new A(r.message));case 7:t.next=0;break;case 9:case"end":return t.stop()}},t)}))()}},{key:"pushInput",value:function(e){this.inputQueue.push(e.message)}}]),e}());addEventListener("message",function(e){var t=e.data;if("RunAdventureMessage"===t.TYPE){var n=D.SINGLE_ADVENTURE_MODE?D.getAdventure():D.getAdventures()[t.index];n.setEngine(L),console.log("Starting PrintThread."),L.startPrintThread(),console.log("Starting adventure."),n.run(),D.SINGLE_ADVENTURE_MODE||(n.onFinish=function(){return postMessage(new O)})}else"InputMessage"==t.TYPE?L.pushInput(t):(console.error("An illegal message was received by the engine: "),console.error(t))})}()}();